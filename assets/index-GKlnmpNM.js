var Ue=Object.defineProperty;var Je=(d,a,n)=>a in d?Ue(d,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):d[a]=n;var re=(d,a,n)=>(Je(d,typeof a!="symbol"?a+"":a,n),n);import{j as e,r as b,a as Ke}from"./react-rKaTJ6rC.js";import{c as Ve}from"./react-dom-6aGZtuvN.js";import{c as Ye,s as qe,S as He,T as X,B as Ze,M as j,a as Me,b as M,d as z,F as _,e as W,f as T,g as J,h as I,R as ee,i as B,j as O,k as Xe,A as ie,l as le,m as ce,n as ae,o as oe,p as $,q as C,r as ne,t as je,u as Ce,v as ve,L as we,C as ge,w as xe,x as Qe,y as et,D as tt,z as rt,E as at,I as E,H as ot,G as nt,J as st,K as it,N as lt,O as ct,P as ut,Q as dt,U as ht,V as pt,W as mt,X as Se,Y as gt,Z as xt,_ as ft,$ as bt,a0 as yt,a1 as jt}from"./@mui-KY3h_Vqr.js";import{v as A}from"./uuid-yQnnJER4.js";import{I as Ct}from"./imagekit-IXdsfQA1.js";import{u as vt,a as wt,b as G}from"./react-router-Qfa4vrje.js";import{B as St}from"./react-router-dom-RWL_fUCn.js";import"./@babel-1eI3ubiv.js";import"./scheduler-iwWdm5Ml.js";import"./@emotion-MmGlNCCc.js";import"./hoist-non-react-statics-ruMgn741.js";import"./stylis-UTZzoVRx.js";import"./react-is-q81m-9gd.js";import"./clsx-Zbgk8kpT.js";import"./react-transition-group-am-CiPuM.js";import"./@react-spring-WSCnDrwI.js";import"./d3-color-0OvjxriG.js";import"./d3-interpolate-E_NIlnYy.js";import"./d3-shape-JTn4KTFh.js";import"./d3-path-B_10WkFA.js";import"./d3-scale-aMHsSRTu.js";import"./internmap-Ts8DYYQa.js";import"./d3-array-wUFzFig2.js";import"./d3-format-9E78v3lr.js";import"./d3-time-format-0imObhOF.js";import"./d3-time-xXQrfqad.js";import"./d3-delaunay-aCXE4wJG.js";import"./delaunator-IGifLgEt.js";import"./robust-predicates-cFBOqhuN.js";import"./prop-types-i7IregA9.js";import"./reselect-SnMqv3yZ.js";import"./@popperjs-zyV4rJhQ.js";import"./lodash-Xr53mQ-n.js";import"./axios-d3lcUOYg.js";import"./hamming-distance-_tY3BPi_.js";import"./form-data-QPNVk4j9.js";import"./@remix-run-w2aNq8l3.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const p of i)if(p.type==="childList")for(const h of p.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(i){const p={};return i.integrity&&(p.integrity=i.integrity),i.referrerPolicy&&(p.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?p.credentials="include":i.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function r(i){if(i.ep)return;i.ep=!0;const p=n(i);fetch(i.href,p)}})();const Tt={none:{primary:"#696969",secondary:"#696969"},alpine:{primary:"#32ab64",secondary:"#5a9e76"},ocean:{primary:"#4852c7",secondary:"#364c87"},desert:{primary:"#b6bd5e",secondary:"#a1a662"},lavender:{primary:"#a33abd",secondary:"#993eb0"},volcano:{primary:"#e43606",secondary:"#dc5414"},sunset:{primary:"#e77e44",secondary:"#c97b55"}},At=["none","alpine","ocean","desert","lavender","volcano","sunset"];let Te,ue="none";class kt{constructor(){re(this,"themesList",At);if(Te)throw new Error("You can only create one instance!");Te=this}getInstance(){return this}getCurrentThemeData(){return Tt[ue]}setThemeId(a){ue=a}getThemeId(){return ue}}const x=Object.freeze(new kt),y={main:{primary:x.getCurrentThemeData().primary,2:x.getCurrentThemeData().primary,1:x.getCurrentThemeData().primary,0:"#414141"},black:{primary:"#151515",2:"#666",1:"#333",0:"#0A0A0A"},white:{primary:"#FFF",1:"#EEE",0:"#CCC"}},Dt=d=>({palette:{mode:d,...d==="light"?{primary:{main:y.main[2]},text:{primary:y.black[0],secondary:y.black[2],tertiary:y.main[1]}}:{primary:{main:y.main[1]},background:{default:y.black[1],paper:y.black.primary},text:{primary:y.white[1],secondary:y.white[0],tertiary:y.main[1]}}},components:{MuiAppBar:{styleOverrides:{colorPrimary:{backgroundColor:y.main[2],color:y.white.primary}}},MuiInputLabel:{styleOverrides:{root:{color:d==="light"?y.black[1]:y.white[1]}}},MuiInputBase:{styleOverrides:{root:{input:{height:"auto"}}}},MuiFormControlLabel:{styleOverrides:{root:{color:d==="light"?y.black[1]:y.white[1]}}},MuiOutlinedInput:{styleOverrides:{root:{fieldset:{borderColor:d==="light"?y.black[1]:y.white[1]}}}},MuiToolbar:{styleOverrides:{root:{backgroundColor:`${d==="light"?y.main[2]:y.black.primary} !important`}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:`${d==="light"?y.white[0]:y.black[0]} !important`}}}},typography:{fontFamily:"HelveticaNeueLight, sans-serif",fontWeightRegular:400},overrides:{MuiTypography:{styleOverrides:{root:{letterSpacing:"0.05em"}}},MuiCssBaseline:{"@global":{"@font-face":{fontFamily:"HelveticaNeueLight",fontStyle:"normal",fontWeight:400,src:`
          local('HelveticaNeueLight'),
          url(./fonts/HelveticaNeue-Light.otf) format('opentype')
        `}}},MuiAccordion:{root:{"&$expanded":{margin:"auto"}}},MuiAccordionSummary:{content:{"&$expanded":{margin:"12px 0"}}},MuiAccordionDetails:{root:{padding:16}}}}),de=d=>Ye(Dt(d)),se={pageContainer:{"&::WebkitScrollbar":{width:0,height:0},width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",gap:"100px",overflowY:"scroll"},form:{width:"100%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem"},teamSwitch:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"20px"}},F="#821C1E",N="#3f51b5",Pe={scouterName:"",teamNum:0,intake:"",preferredAutoPos:"",canClimb:!1,FramePerimeter:0,weight:0,canGoUnderChain:!1,numBatteries:0,numBatteryChargers:0,ProgrammingLanguage:"",driveTrain:"",numMotors:0,motorType:"",image:"https://placehold.co/400x400?text=upload%20image",doLocktiteFalcons:!1},Nt=["Scouter Name","Team #","Intake Positions","Preferred Starting Position","Can Climb","Frame Perimeter","Weight","Under Chain","# of Batteries","# of Chargers","Programming Language","Drive Train","# of Motors","Are Falcons loctited"],Q={intake:["ground","station","both","none"],preferredAutoPos:["don't care","1","2","3"],ProgrammingLanguage:["Java","C++","LabVIEW","Python"],driveTrain:["West Coast Drive","Swerve Drive","2-Wheel Drive","4-Wheel Drive","Other 6-Wheel Drive","Car Drive","H-Drive","Holonomic Drive","Mecanum Drive","other"],motorType:["Talon-500 Motor","NEO motor","NEO 550 motor","Kraken Motor","Jaguar Motor","Venom Motor","Nidec Dynamo BLDC Motor","other"]},It=["Scouter Name","Alliance Color","Alliance Position","Team Number","match Number","auto Taxi","auto Amp","Auto Speaker","auto Misses","teleop Amp","teleop Speaker","teleop Shuttle","Teleop Climb","broken","spotlight","notes"],Le={uuid:A(),scouterName:"",color:"red",alliancePosition:1,teamNumber:NaN,matchNumber:NaN,autoTaxi:!1,autoAmp:0,autoSpeaker:0,autoMisses:0,teleopAmp:0,teleopSpeaker:0,teleopShuttle:0,teleopClimb:"",broken:!1,spotlight:!1,notes:""},Mt=15,Pt=135,Ae="3bf14c94cacb7b7bf51ecc306f3dad088a839ec16a99bdec3e4f2bbf6831c544",Fe="2024cmptx",Be=qe(d=>e.jsx(He,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...d}))(({theme:d})=>({width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:F,opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:N,border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:d.palette.mode==="light"?d.palette.grey[100]:d.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:d.palette.mode==="light"?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:26/2,backgroundColor:N,opacity:1,transition:d.transitions.create(["background-color"],{duration:500})}})),Lt={appNameContainer:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"end",gap:"20px"}},R=({title:d,children:a,sx:n={},hover:r=""})=>e.jsxs("div",{style:Lt.appNameContainer,children:[e.jsx(X,{variant:"h1",title:r,sx:Object.assign({},{color:x.getCurrentThemeData().primary,fontFamily:"Lexend",fontWeight:"bold",textTransform:"uppercase",paddingTop:"0px",marginTop:"0px",fontSize:"4em"},n),children:d}),a]}),Oe="1v7rt_tRsWAKDxGMnfeCTZNCB9mOycKVb5izpzJTe07Y",Ft="AIzaSyCtpEW-xu38_uBirzfKie_rsGpfkhlaaiY",Bt="test",Ot="A2:Z5000",ke=`https://sheets.googleapis.com/v4/spreadsheets/${Oe}/values/${Bt}!${Ot}?key=${Ft}`;let De,U;class Rt{constructor(){if(De)throw new Error("You can only create one instance!");De=this}getInstance(){return this}async getPitScouting(){return new Promise((a,n)=>{fetch(ke.replace(Oe,"1Em2CmfPw0XNbrP0T7f42goERnDkcGvJqQq5vJJb7GuI").replace("test","PitScouting")).then(r=>r.json()).then(r=>a(r.values)).catch(r=>n(r))})}updateSheetsJson(){fetch(ke).then(a=>a.json()).then(a=>U=a.values).catch(()=>{})}getSheetsRaw(){return this.updateSheetsJson(),U}async getAsyncData(){return U||await this.updateSheetsJson(),U}getInstancesByName(a){return U?U.filter(n=>n[0]===a).length:0}getInstancesByTeamNum(a){return U?U.filter(n=>n[3]===a):[]}}const K=Object.freeze(new Rt),be="H19M5A4ypIJMbzipmH6lZt0U38K5XihV9m6PpQi5cq2VRuUp84omcFbc3iRPDDiQ",Et="https://www.thebluealliance.com/api/v3/team/frc",Re="https://www.thebluealliance.com/api/v3/team/frc{team}/media/"+new Date().getFullYear();async function Ee(d){if(isNaN(parseFloat(d)))return"";try{return(await(await fetch(Et+d,{cache:"force-cache",headers:{"X-TBA-Auth-Key":be}})).json()).nickname}catch{return""}}async function Gt(d){if(isNaN(parseFloat(d)))return[];try{const n=await(await fetch(Re.replace("{team}",d),{cache:"force-cache",headers:{"X-TBA-Auth-Key":be}})).json();if(n.length===0)return[];let r=[];return n.forEach(i=>{i.type!=="instagram-image"&&(i.direct_url!==""&&r.push(i.direct_url),{}.propertyIsEnumerable.call(i.details,"base64Image")&&r.push("data:image/png;base64,"+i.details.base64Image))}),r}catch{return[]}}async function _t(d){if(isNaN(parseFloat(d)))return"";try{const n=await(await fetch(Re.replace("{team}",d),{cache:"force-cache",headers:{"X-TBA-Auth-Key":be}})).json();if(n.length===0)return"";let r="";return n.forEach(i=>{i.type!=="instagram-image"&&(i.direct_url!==""&&(r=i.direct_url),{}.propertyIsEnumerable.call(i.details,"base64Image")&&(r="data:image/png;base64,"+i.details.base64Image))}),r}catch{return""}}const Wt=({url:d,width:a})=>e.jsx("img",{src:d,width:a}),zt="H19M5A4ypIJMbzipmH6lZt0U38K5XihV9m6PpQi5cq2VRuUp84omcFbc3iRPDDiQ";let Ne;const $t=`https://www.thebluealliance.com/api/v3/event/${Fe}/matches`;let L=[];class Ut{constructor(){if(Ne)throw new Error("You can only create one instance!");Ne=this}getInstance(){return this}getData(){return L}getDataByMatch(a){for(let n=0;n<L.length;n++)if(L[n].match_number===a)return L[n]}getDataByTeamNumber(a){var r,i;const n=[];for(let p=0;p<L.length;p++)return L[p].alliances&&((r=L[p].alliances)!=null&&r.blue.team_keys.includes(`frc${a}`)||(i=L[p].alliances)!=null&&i.blue.team_keys.includes(`frc${a}`))&&n.push(L[p]),n}updateJSON(){fetch($t,{headers:{"X-TBA-Auth-Key":zt}}).then(a=>a.json()).then(a=>{const n=[];for(let r=0;r<a.length;r++){const i=a[r];n.push(i)}L=n})}}const fe=Object.freeze(new Ut),Jt=d=>{const a=d.scoutingSetterGetter[1],[n,r]=b.useState(""),[i,p]=b.useState(""),h=d.scoutingSetterGetter[0],m=()=>{const c=fe.getDataByMatch(h.matchNumber),t=h.color,g=h.alliancePosition-1;if(!(c!=null&&c.alliances))return;const v=c==null?void 0:c.alliances[t].team_keys[g],S=structuredClone(h);S.teamNumber=parseInt(v.replace("frc","")),a(S)};b.useEffect(()=>{m()},[h.matchNumber,h.alliancePosition,h.color]),b.useEffect(()=>{async function c(){r(await Ee(h.teamNumber))}async function t(){isNaN(h.teamNumber)||p(await _t(h.teamNumber))}p(""),c(),t()},[h.teamNumber]);const s=d.navigation;function l(){return h.color==="red"?F:N}function o(c){return h.alliancePosition==c?"contained":"outlined"}function u(c){return o(c)=="contained"?{backgroundColor:l(),borderColor:l(),"&:hover":{backgroundColor:l(),borderColor:l()},"&:active":{backgroundColor:l(),borderColor:l()}}:{color:l(),borderColor:l(),"&:hover":{backgroundColor:l(),borderColor:l()},"&:active":{backgroundColor:l(),borderColor:l()}}}const f=()=>{const c=structuredClone(h);c.color==="red"?c.color="blue":c.color="red",a(c)};return e.jsxs("div",{style:se.pageContainer,children:[e.jsx(R,{title:"Falcon",children:e.jsx(X,{variant:"h2",sx:{color:"#CA3E47",fontFamily:"Montserrat-Normal",fontWeight:"bold",position:"absolute",top:"1em",left:"50%"},children:"Scouting"})}),e.jsxs("div",{style:se.form,children:[e.jsx(Ze,{badgeContent:K.getInstancesByName(h.scouterName),color:"primary",children:e.jsx(j,{label:"Scout Name",variant:"filled",onChange:c=>{const t=structuredClone(h);t.scouterName=c.target.value,a(t)},value:h.scouterName})}),e.jsx(j,{label:"Team Number",variant:"filled",type:"number",helperText:n,value:Number.isNaN(h.teamNumber)?"":h.teamNumber,onChange:c=>{const t=structuredClone(h);t.teamNumber=parseInt(c.target.value),a(t)}}),e.jsx(Wt,{url:i,width:128,height:128}),e.jsx(j,{label:"Match Number",variant:"filled",type:"number",value:Number.isNaN(h.matchNumber)?"":h.matchNumber,onChange:c=>{const t=structuredClone(h);t.matchNumber=parseInt(c.target.value),a(t)}}),e.jsxs("div",{style:se.teamSwitch,children:[e.jsx(X,{variant:"body1",sx:{color:l(),fontFamily:"Montserrat-Normal",fontWeight:"bold"},children:"Team Color"}),e.jsx(Be,{checked:h.color==="red",onChange:f})]}),e.jsxs(Me,{sx:{outlineColor:l()},children:[e.jsx(M,{sx:u(1),variant:o(1),onClick:()=>{const c=structuredClone(h);c.alliancePosition=1,a(c)},children:"One"}),e.jsx(M,{sx:u(2),variant:o(2),onClick:()=>{const c=structuredClone(h);c.alliancePosition=2,a(c)},children:"Two"}),e.jsx(M,{sx:u(3),variant:o(3),onClick:()=>{const c=structuredClone(h);c.alliancePosition=3,a(c)},children:"Three"})]}),e.jsx(M,{color:"success",variant:"contained",onClick:()=>{s(2)},children:"Submit"})]})]})},Y=({children:d,...a})=>{const n={height:"100%",width:"100%",background:x.getCurrentThemeData().secondary,"&:hover":{backgroundColor:x.getCurrentThemeData().secondary,borderColor:x.getCurrentThemeData().secondary},"&:active":{backgroundColor:x.getCurrentThemeData().secondary,borderColor:x.getCurrentThemeData().secondary},fontFamily:"Lexend",fontSize:"4.25em",fontWeight:"bold",color:"white",position:"relative"};return e.jsxs(M,{sx:n,...a,children:[d,e.jsx("div",{style:{position:"absolute",bottom:"0px",right:"0px",fontSize:"15px",marginRight:"15px"},children:a.minitext})]})},Ge=({duration:d,color:a,onFinish:n,title:r})=>{const i=l=>{const o=Math.floor(l/60),u=Math.floor(l-o*60);return`${("0"+o).slice(-2)}:${("0"+u).slice(-2)}`};let p=d,h=l=>{};[p,h]=b.useState(d);const[m,s]=b.useState(Date.now());return b.useEffect(()=>{p<=0&&n();const l=p>0&&setInterval(()=>{h(p-(Date.now()-m)/1e3),s(Date.now())},10);return()=>clearInterval(typeof l=="number"?l:0)},[p,n,m]),e.jsx(R,{title:r,hover:i(p),sx:{backgroundClip:"text",WebkitTextFillColor:"transparent",backgroundImage:`linear-gradient(to right, ${x.getCurrentThemeData().secondary} 0%,${x.getCurrentThemeData().secondary} ${p/d*100}%,${a} ${p/d*100}%,${a} 100%)`}})},he={buttonsContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px"},buttonRowContainer:{paddingLeft:"100px",paddingRight:"100px",width:"100%",height:"30%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"50px"}},_e=({children:d,...a})=>{var h;const n=a.scouterSetter;let r=[!1,!0];typeof a.scouterData=="string"&&(r=["","park","onstage","harmony"]);const[i,p]=b.useState(r.indexOf(a.start)??0);return e.jsx(Y,{minitext:(h=r[i])==null?void 0:h.toString(),onClick:()=>{p(()=>(i+1)%r.length),n(r[(i+1)%r.length])},children:d})},Kt=d=>{const a=d.scoutingSetterGetter[1],n=d.scoutingSetterGetter[0];return e.jsxs(z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(Ge,{title:"Auto",color:"green",duration:Mt,onFinish:()=>{}}),e.jsxs("div",{style:he.buttonsContainer,children:[e.jsxs("div",{style:he.buttonRowContainer,children:[e.jsx(_e,{start:n.autoTaxi,scouterData:n.autoTaxi,scouterSetter:r=>{const i=structuredClone(n);typeof r=="boolean"&&(i.autoTaxi=r,a(i))},children:"Moved"}),e.jsx(Y,{onClick:()=>{const r=structuredClone(n);r.autoAmp++,a(r)},minitext:n.autoAmp,children:"AMP"})]}),e.jsxs("div",{style:he.buttonRowContainer,children:[e.jsx(Y,{onClick:()=>{const r=structuredClone(n);r.autoSpeaker++,a(r)},minitext:n.autoSpeaker,children:"SPEAKER"}),e.jsx(Y,{onClick:()=>{const r=structuredClone(n);r.autoMisses++,a(r)},minitext:n.autoMisses,children:"MISS"})]})]})]})},pe={buttonsContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px"},buttonRowContainer:{paddingLeft:"100px",paddingRight:"100px",width:"100%",height:"30%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"50px"}},Vt=d=>{const a=d.scoutingSetterGetter[1],n=d.scoutingSetterGetter[0];return e.jsxs(z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(Ge,{title:"Teleop",color:"green",duration:Pt,onFinish:()=>{}}),e.jsxs("div",{style:pe.buttonsContainer,children:[e.jsxs("div",{style:pe.buttonRowContainer,children:[e.jsx(Y,{onClick:()=>{const r=structuredClone(n);r.teleopAmp++,a(r)},minitext:n.teleopAmp,children:"AMP"}),e.jsx(Y,{onClick:()=>{const r=structuredClone(n);r.teleopSpeaker++,a(r)},minitext:n.teleopSpeaker,children:"SPEAKER"})]}),e.jsxs("div",{style:pe.buttonRowContainer,children:[e.jsx(Y,{onClick:()=>{const r=structuredClone(n);r.teleopShuttle++,a(r)},minitext:n.teleopShuttle,children:"Shuttle"}),e.jsx(_e,{scouterData:n.teleopClimb,scouterSetter:r=>{const i=structuredClone(n);(r===""||r==="park"||r==="onstage"||r==="harmony")&&(i.teleopClimb=r,a(i))},start:n.teleopClimb,children:"CLIMB"})]})]})]})};async function We(){try{return await fetch("https://google.com",{mode:"no-cors"}),!0}catch{return!1}}const V=class V{constructor(){re(this,"db",null)}static getInstance(){return V.instance||(V.instance=new V),V.instance}async openDatabase(a,n,r,i){return new Promise((p,h)=>{const m=indexedDB.open(a,n);m.onerror=()=>{h(new Error("Failed to open IndexedDB"))},m.onsuccess=()=>{this.db=m.result,p()},m.onupgradeneeded=s=>{const l=s.target.result;l.objectStoreNames.contains(r)||l.createObjectStore(r,{keyPath:i})}})}async addData(a,n){return new Promise((r,i)=>{if(!this.db){i(new Error("Database is not open"));return}const m=this.db.transaction([a],"readwrite").objectStore(a).add(n);m.onerror=s=>{i(new Error(`Failed to add data to IndexedDB: ${s}`))},m.onsuccess=()=>{r()}})}async readAllData(a){return new Promise((n,r)=>{if(!this.db){r(new Error("Database is not open"));return}const h=this.db.transaction([a],"readonly").objectStore(a).getAll();h.onerror=()=>{r(new Error("Failed to read data from IndexedDB"))},h.onsuccess=()=>{const m=h.result;n(m)}})}async deleteAllData(a){return new Promise((n,r)=>{if(!this.db){r(new Error("Database is not open"));return}const h=this.db.transaction([a],"readwrite").objectStore(a).clear();h.onerror=()=>{r(new Error("Failed to delete data from IndexedDB"))},h.onsuccess=()=>{n()}})}};re(V,"instance");let te=V;const Yt=d=>{const a=d.navigation,n=d.scoutingSetterGetter[1],r=d.scoutingSetterGetter[0],i={themeColor:{color:x.getCurrentThemeData().primary},outline:{".MuiOutlinedInput-notchedOutline":{borderColor:r.color==="red"?F:N},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:r.color==="red"?F:N,borderWidth:"0.15rem"},span:{color:r.color==="red"?F:N},legend:{color:r.color==="red"?F:N}}};function p(){return r.color==="red"?F:N}function h(l){return r.alliancePosition==l?"contained":"outlined"}function m(l){return h(l)=="contained"?{color:x.getCurrentThemeData().primary,backgroundColor:p(),borderColor:p(),"&:hover":{backgroundColor:p(),borderColor:p()},"&:active":{backgroundColor:p(),borderColor:p()}}:{color:p(),borderColor:p(),"&:hover":{backgroundColor:p(),borderColor:p()},"&:active":{backgroundColor:p(),borderColor:p()}}}const s=()=>{const l=structuredClone(r);l.color==="red"?l.color="blue":l.color="red",n(l)};return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Edits"}),e.jsx("div",{id:"end-1",children:e.jsxs("div",{id:"edit-container",style:se.form,children:[e.jsxs(_,{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"},children:[e.jsx(X,{variant:"body1",sx:{color:r.color==="red"?F:N,fontFamily:"Montserrat-Normal",fontWeight:"bold",textAlign:"center",width:"100%",marginBottom:"25px"},children:"Recap"}),e.jsx(j,{id:"autoAmp",label:"Auto Amp",sx:i.outline,style:{width:"calc(100% / 8)"},InputLabelProps:{sx:i.themeColor},value:Number.isNaN(r.autoAmp)?"":r.autoAmp,onChange:l=>{const o=structuredClone(r);o.autoAmp=parseInt(l.target.value),n(o)}}),e.jsx(j,{id:"autoSpeaker",label:"Auto Speaker",sx:i.outline,InputLabelProps:{sx:i.themeColor},style:{marginLeft:"10px",marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(r.autoSpeaker)?"":r.autoSpeaker,onChange:l=>{const o=structuredClone(r);o.autoSpeaker=parseInt(l.target.value),n(o)}}),e.jsx(j,{id:"autoMisses",label:"Auto Misses",sx:i.outline,InputLabelProps:{sx:i.themeColor},style:{marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(r.autoMisses)?"":r.autoMisses,onChange:l=>{const o=structuredClone(r);o.autoMisses=parseInt(l.target.value),n(o)}}),e.jsx(j,{id:"teleop Amp",label:"Teleop Amp",InputLabelProps:{sx:i.themeColor},sx:i.outline,style:{width:"calc(100% / 8)"},value:Number.isNaN(r.teleopAmp)?"":r.teleopAmp,onChange:l=>{const o=structuredClone(r);o.teleopAmp=parseInt(l.target.value),n(o)}}),e.jsx(j,{id:"teleopSpeaker",label:"Teleop Speaker",sx:i.outline,InputLabelProps:{sx:i.themeColor},style:{marginLeft:"10px",marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(r.teleopSpeaker)?"":r.teleopSpeaker,onChange:l=>{const o=structuredClone(r);o.teleopSpeaker=parseInt(l.target.value),n(o)}}),e.jsx(j,{id:"teleopShuttle",label:"Teleop Shuttle",sx:i.outline,InputLabelProps:{sx:i.themeColor},style:{width:"calc(100% / 8)"},value:Number.isNaN(r.teleopShuttle)?"":r.teleopShuttle,onChange:l=>{const o=structuredClone(r);o.teleopShuttle=parseInt(l.target.value),n(o)}}),e.jsxs(W,{sx:{width:"calc(100% / 8)",marginLeft:"10px"},children:[e.jsx(T,{id:"climbs",sx:i.themeColor,children:"Climb"}),e.jsxs(J,{label:"climb",labelId:"climbs",style:{color:x.getCurrentThemeData().primary},value:r.teleopClimb,sx:i.outline,onChange:l=>{const o=structuredClone(r);o.teleopClimb=l.target.value,n(o)},children:[e.jsx(I,{value:"",children:"None"}),e.jsx(I,{value:"park",children:"park"}),e.jsx(I,{value:"onstage",children:"onstage"}),e.jsx(I,{value:"harmony",children:"harmony"})]})]})]}),e.jsxs(_,{style:{display:"flex",flexDirection:"row"},children:[e.jsxs(_,{style:{marginRight:"20px"},children:[e.jsx(T,{id:"spotlight",sx:i.themeColor,children:"Spotlight?"}),e.jsxs(ee,{"aria-labelledby":"spotlight",value:r.spotlight,children:[e.jsx(B,{value:"true",control:e.jsx(O,{sx:i.outline,onChange:()=>{const l=structuredClone(r);l.spotlight=!0,n(l)}}),label:"yes",checked:r.spotlight===!0}),e.jsx(B,{value:"false",control:e.jsx(O,{sx:i.outline,onChange:()=>{const l=structuredClone(r);l.spotlight=!1,n(l)}}),label:"no",checked:r.spotlight===!1})]})]}),e.jsxs(_,{children:[e.jsx(T,{id:"oof",sx:i.themeColor,children:"Broken?"}),e.jsxs(ee,{"aria-labelledby":"oof",value:r.broken,children:[e.jsx(B,{value:"true",control:e.jsx(O,{sx:i.outline,onChange:()=>{const l=structuredClone(r);l.broken=!0,n(l)}}),label:"yes",checked:r.broken===!0}),e.jsx(B,{value:"false",control:e.jsx(O,{sx:i.outline,onChange:()=>{const l=structuredClone(r);l.broken=!1,n(l)}}),label:"no",checked:r.broken===!1})]})]})]}),e.jsxs(_,{style:{display:"flex",flexDirection:"row"},children:[e.jsx(j,{id:"scoutname",label:"Scout Name",InputLabelProps:{sx:i.themeColor},sx:i.outline,onChange:l=>{const o=structuredClone(r);o.scouterName=l.target.value,n(o)},value:r.scouterName}),e.jsx(j,{id:"teamnum",label:"Team Number",sx:i.outline,style:{marginLeft:"10px",marginRight:"10px"},InputLabelProps:{sx:i.themeColor},value:Number.isNaN(r.teamNumber)?"":r.teamNumber,onChange:l=>{const o=structuredClone(r);o.teamNumber=parseInt(l.target.value),n(o)}}),e.jsx(j,{id:"matchnum",label:"Match Number",sx:i.outline,InputLabelProps:{sx:i.themeColor},value:Number.isNaN(r.matchNumber)?"":r.matchNumber,onChange:l=>{const o=structuredClone(r);o.matchNumber=parseInt(l.target.value),n(o)}})]}),e.jsxs(W,{sx:{display:"flex",width:"100%",margin:"auto",flexDirection:"row",justifyContent:"center"},children:[e.jsx(X,{variant:"body1",sx:{color:r.color==="red"?F:N,fontFamily:"Montserrat-Normal",fontWeight:"bold",width:"150px"},children:"Team Color"}),e.jsx(Be,{checked:r.color==="red",onChange:s})]}),e.jsxs(Me,{sx:{outlineColor:p()},children:[e.jsx(M,{sx:m(1),variant:h(1),onClick:()=>{const l=structuredClone(r);l.alliancePosition=1,n(l)},children:"One"}),e.jsx(M,{sx:m(2),variant:h(2),onClick:()=>{const l=structuredClone(r);l.alliancePosition=2,n(l)},children:"Two"}),e.jsx(M,{sx:m(3),variant:h(3),onClick:()=>{const l=structuredClone(r);l.alliancePosition=3,n(l)},children:"Three"})]}),e.jsx(Xe,{placeholder:"notes",onChange:l=>{const o=structuredClone(r);o.notes=l.target.value,n(o)},style:{borderColor:r.color==="red"?F:N,color:x.getCurrentThemeData().primary,backgroundColor:(localStorage.getItem("theme")||"dark")==="dark"?"#333":"white"}}),e.jsx(M,{color:"success",variant:"contained",onClick:()=>{const l=structuredClone(r);l.broken=l.broken?"yes":"no",l.spotlight=l.spotlight?"yes":"no",l.autoTaxi=l.autoTaxi?"yes":"no",fetch("https://api.steinhq.com/v1/storages/661429064a642363121a7a44/test",{method:"POST",body:JSON.stringify([l]),mode:"cors",headers:{"Content-Type":"application/json"},cache:"no-store"}).then(o=>o.json()).then(async()=>{if(await We()){K.updateSheetsJson();const u=structuredClone(Le);u.scouterName=l.scouterName,u.matchNumber=l.matchNumber+1,u.uuid=A(),n(u),d.alert("Yay! We got your data saved."),a(1)}else{const u=te.getInstance();u.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>u.addData("OfflineScouterDataQueue",r))}}).catch(()=>{const o=te.getInstance();o.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>o.addData("OfflineScouterDataQueue",r))})},children:"Submit"})]})})]})},qt=d=>{const a=d.navigation;b.useEffect(()=>{localStorage.getItem("auth_code")===Ae&&a(1)});const n=r=>crypto.subtle.digest("SHA-256",new TextEncoder().encode(r)).then(i=>{const p=[],h=new DataView(i);for(let m=0;m<h.byteLength;m+=4)p.push(("00000000"+h.getUint32(m).toString(16)).slice(-8));return p.join("")});return e.jsxs(z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[e.jsx(R,{title:"What is the air-speed velocity of an unladen swallow?",sx:{fontSize:"1.5em",width:"50%",textAlign:"center"}}),e.jsx(j,{onChange:async r=>{const i=await n(r.target.value);i===Ae&&(localStorage.setItem("auth_code",i),a(1))}})]})},Ht=new Ct({publicKey:"public_sjGSBBstq6tqeZwNnTDDaMwawW4=",privateKey:"private_dzG/Ko9cGOwJ8EVWkYsqQdCioTM=",urlEndpoint:"https://ik.imagekit.io/vavanu9av/"});let Ie,me=[];class Zt{constructor(){if(Ie)throw new Error("You can only create one instance!");Ie=this}getInstance(){return this}uploadFile(a,n,r){return new Promise((i,p)=>{Ht.upload({file:a,fileName:`${new Date().getTime()}-${n}.${r.split("/")[1]}`,useUniqueFileName:!1,tags:[`${n}`]},(h,m)=>{h&&p(h),m&&i(m.url)})})}async updateFilesJson(){const a=await K.getPitScouting(),n={};a.forEach(r=>{const i=parseFloat(r[1]);n[i]||(n[i]=[]),n[i].push({url:r[14],author:r[0],title:`A photo of the ${i} robot from the ${Fe} competition`})}),me=n}getFilesRaw(){return me}getInstancesByTeamNumber(a){this.updateFilesJson();try{return me[a]}catch{return[]}}}const ye=Object.freeze(new Zt),Xt=d=>{const[a,n]=d.pitSetterGetter,r=d.alert;function i(s,l){const o={...a};o[s]=l,n(o)}function p(s,l){const o={...a};o[s]=l,n(o)}function h(s,l){const o={...a};o[s]=l,n(o)}function m(s){return Number.isNaN(a[s])?"":a[s]}return e.jsxs(z,{sx:{width:"100%",display:"flex",flexDirection:window.innerWidth<1e3?"column":"row",flexWrap:"wrap",paddingTop:"50px"},children:[e.jsx(R,{title:"Pit Scouting",sx:{fontSize:"1.5em",width:"100%",textAlign:"center"}}),e.jsxs("div",{id:"column-1",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(j,{InputLabelProps:{sx:{color:x.getCurrentThemeData().primary}},id:"scoutername",label:"Name",onChange:s=>{i("scouterName",s.target.value)},value:a.scouterName}),e.jsx(j,{id:"teamNumber",label:"Team Number",InputLabelProps:{sx:{color:x.getCurrentThemeData().primary}},onChange:s=>{p("teamNum",parseInt(s.target.value))},value:m("teamNum")}),e.jsxs(W,{children:[e.jsx(T,{id:"intake",sx:{color:x.getCurrentThemeData().primary},children:"Intake"}),e.jsx(J,{label:"intake",labelId:"intake",value:a.intake,onChange:s=>i("intake",s.target.value),children:Q.intake.map(s=>e.jsx(I,{value:s,children:s},s))})]}),e.jsxs(W,{children:[e.jsx(T,{id:"autoPos",sx:{color:x.getCurrentThemeData().primary},children:"Preferred Auto Position"}),e.jsx(J,{label:"autoPos",labelId:"autoPos",value:a.preferredAutoPos,onChange:s=>i("preferredAutoPos",s.target.value),children:Q.preferredAutoPos.map(s=>e.jsx(I,{value:s,children:s},s))})]})]}),e.jsxs("div",{id:"column-2",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsxs(_,{children:[e.jsx(T,{id:"canclimb",sx:{color:x.getCurrentThemeData().primary},children:"Can Climb?"}),e.jsxs(ee,{"aria-labelledby":"canclimb",value:a.canClimb,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(B,{value:"true",control:e.jsx(O,{onChange:()=>h("canClimb",!0)}),label:"yes",checked:a.canClimb===!0}),e.jsx(B,{value:"false",control:e.jsx(O,{onChange:()=>{h("canClimb",!1)}}),label:"no",checked:a.canClimb===!1})]})]}),e.jsx(j,{id:"FramePerimeter",label:"Frame Perimeter",InputLabelProps:{sx:{color:x.getCurrentThemeData().primary}},onChange:s=>{p("FramePerimeter",parseInt(s.target.value))},value:m("FramePerimeter")}),e.jsx(j,{id:"weight",label:"weight",InputLabelProps:{sx:{color:x.getCurrentThemeData().primary}},onChange:s=>{p("weight",parseInt(s.target.value))},value:m("weight")}),e.jsxs(_,{children:[e.jsx(T,{id:"canGoUnderChain",sx:{color:x.getCurrentThemeData().primary},children:"Can go under chain?"}),e.jsxs(ee,{"aria-labelledby":"canGoUnderChain",value:a.canGoUnderChain,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(B,{value:"true",control:e.jsx(O,{onChange:()=>h("canGoUnderChain",!0)}),label:"yes",checked:a.canGoUnderChain===!0}),e.jsx(B,{value:"false",control:e.jsx(O,{onChange:()=>{h("canClimb",!1)}}),label:"no",checked:a.canGoUnderChain===!1})]})]})]}),e.jsxs("div",{id:"column-3",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(j,{id:"numBatteries",label:"Number of Batteries",InputLabelProps:{sx:{color:x.getCurrentThemeData().primary}},onChange:s=>{p("numBatteries",parseInt(s.target.value))},value:m("numBatteries")}),e.jsx(j,{id:"numBatteryChargers",label:"Number of Battery Chargers",InputLabelProps:{sx:{color:x.getCurrentThemeData().primary}},onChange:s=>{p("numBatteryChargers",parseInt(s.target.value))},value:m("numBatteryChargers")}),e.jsxs(W,{children:[e.jsx(T,{id:"ProgrammingLanguage",sx:{color:x.getCurrentThemeData().primary},children:"Programming Language"}),e.jsx(J,{label:"ProgrammingLanguage",labelId:"ProgrammingLanguage",value:a.ProgrammingLanguage,onChange:s=>i("ProgrammingLanguage",s.target.value),children:Q.ProgrammingLanguage.map(s=>e.jsx(I,{value:s,children:s},s))})]}),e.jsxs(W,{children:[e.jsx(T,{id:"driveTrain",sx:{color:x.getCurrentThemeData().primary},children:"Drive Train"}),e.jsx(J,{label:"driveTrain",labelId:"driveTrain",value:a.driveTrain,onChange:s=>i("driveTrain",s.target.value),children:Q.driveTrain.map(s=>e.jsx(I,{value:s,children:s},s))})]})]}),e.jsxs("div",{id:"column-4",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(j,{id:"numMotors",label:"Number of Motors",InputLabelProps:{sx:{color:x.getCurrentThemeData().primary}},onChange:s=>{p("numMotors",parseInt(s.target.value))},value:m("numMotors")}),e.jsxs(W,{children:[e.jsx(T,{id:"motorType",children:"Drivetrain Motor Type"}),e.jsx(J,{label:"motorType",labelId:"motorType",value:a.motorType,onChange:s=>i("motorType",s.target.value),children:Q.motorType.map(s=>e.jsx(I,{value:s,children:s},s))})]}),e.jsxs(_,{children:[e.jsx(T,{id:"doLocktiteFalcons",sx:{color:x.getCurrentThemeData().primary},children:"Do Falcons have Loctite?"}),e.jsxs(ee,{"aria-labelledby":"doLocktiteFalcons",value:a.doLocktiteFalcons,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(B,{value:"true",control:e.jsx(O,{onChange:()=>h("doLocktiteFalcons",!0)}),label:"yes",checked:a.doLocktiteFalcons===!0}),e.jsx(B,{value:"false",control:e.jsx(O,{onChange:()=>{h("doLocktiteFalcons",!1)}}),label:"no",checked:a.doLocktiteFalcons===!1})]})]}),e.jsxs(_,{children:[e.jsx("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",type:"file",onChange:s=>{if(!s.target.files||s.target.files.length===0)return;const l=new FileReader;l.readAsDataURL(s.target.files[0]),l.onload=o=>{var u,f,c;((u=s.target)==null?void 0:u.files)!==null&&ye.uploadFile((f=o.target)==null?void 0:f.result,a.teamNum,(c=s.target)==null?void 0:c.files[0].type).then(t=>{i("image",t)})}}}),e.jsx("label",{htmlFor:"raised-button-file",children:e.jsx(M,{variant:"contained",component:"span",sx:{color:(localStorage.getItem("theme")??"dark")==="light"?"black":"white"},children:"Upload robot photo"})}),e.jsx("img",{src:a.image,style:{width:"64px"}})]})]}),e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(M,{color:"success",variant:"contained",onClick:()=>{const s=structuredClone(a);fetch("https://api.steinhq.com/v1/storages/66142af84a642363121a7a83/PitScouting",{method:"POST",body:JSON.stringify([s]),mode:"cors",headers:{"Content-Type":"application/json"},cache:"no-store"}).then(o=>o.json()).then(()=>{r("You submitted a pit scouting report");const o=structuredClone(Pe);o.scouterName=s.scouterName,n(o)})},children:"Submit"})})]})};function Qt(d){const a=d.itemData,n=b.useRef(null);return a?e.jsx("div",{style:{width:"100%"},children:e.jsx("div",{className:"images-container",style:{display:"flex",maxWidth:"500px",width:`calc(128px * ${a.length})`,overflow:"scroll",scrollBehavior:"smooth",transition:"scroll 0.3s ease-in-out",overflowY:"hidden"},ref:n,children:Array.from(a).map(r=>e.jsxs("div",{style:{width:"128px",display:"flex",flexDirection:"column-reverse"},children:[e.jsxs("span",{style:{width:"100%",fontSize:"0.5em",backgroundColor:"GrayText",display:"block",height:"50px"},children:[r.title,e.jsx("br",{}),"-",r.author]},A()),e.jsx("img",{className:"image",alt:"sliderImage",src:r.url,width:"128px"},A())]},A()))})}):e.jsx("div",{})}const er=()=>{const[d,a]=b.useState("Enter a team number"),[n,r]=b.useState(0),[i,p]=b.useState([]),[h,m]=b.useState([]),[s,l]=b.useState([]);async function o(t){let g=await K.getPitScouting();g=g.filter(v=>v[1]==t.toString()),m(()=>g)}const u=t=>{let g=parseInt(t);return isNaN(g)&&(g=0),g};async function f(){const t=await Ee(n.toString());a(t),l(()=>{const g=K.getInstancesByTeamNum(n.toString());return g.sort((v,S)=>parseInt(v[4])-parseInt(S[4])),g})}const c=async()=>{let t=await ye.getInstancesByTeamNumber(n);t||(t=[]);const g=(await Gt(n.toString())).map(v=>({url:v,author:"Team "+n.toString(),title:"Photo of the "+n.toString()+" robot"}));try{p(()=>t.concat(g))}catch{console.log("Team Doesn't exist")}};return b.useEffect(()=>{f(),c(),o(n)},[n]),e.jsxs(z,{sx:{width:"100%",height:"100%",display:"flex",flexWrap:"wrap",paddingTop:"50px",alignItems:"start",scrollbarWidth:"none",padding:"10px",overflow:"scroll",overflowX:"scroll"},children:[e.jsx(R,{title:"Team Lookup",sx:{fontSize:"1.5em",width:"100%",textAlign:"center"}}),e.jsx(j,{id:"team_lookup",placeholder:"search",sx:{width:"calc(100% - 55px)",margin:"25px"},value:Number.isNaN(n)?"":n,onChange:t=>{r(parseInt(t.target.value))}}),e.jsxs("div",{id:"results",style:{width:"100%"},children:[e.jsx(R,{title:d,sx:{fontSize:"2em"}}),e.jsx(Qt,{itemData:i})," ",e.jsxs(ie,{children:[e.jsx(le,{children:e.jsx(R,{title:"Pit Scouting",sx:{fontSize:"1em",width:"100%",textAlign:"center"}})}),e.jsx(ce,{children:e.jsxs(ae,{children:[e.jsx(oe,{children:e.jsxs($,{children:[...Nt.map(t=>e.jsx(C,{children:t},A()))]})}),e.jsxs(ne,{children:[...h.map(t=>{const g=/(https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z]{2,}(\.[a-zA-Z]{2,})(\.[a-zA-Z]{2,})?\/[a-zA-Z0-9]{2,}|((https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z]{2,}(\.[a-zA-Z]{2,})(\.[a-zA-Z]{2,})?)|(https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z0-9]{2,}\.[a-zA-Z0-9]{2,}\.[a-zA-Z0-9]{2,}(\.[a-zA-Z0-9]{2,})?/g;return t.slice(0,-1),e.jsxs($,{children:[...t.filter(v=>!g.test(v)).map(v=>e.jsx(C,{children:v},A()))]},A())})]})]})})]}),e.jsxs(ie,{children:[e.jsx(le,{children:e.jsx(R,{title:"Match Scouting",sx:{fontSize:"1em",width:"100%",textAlign:"center",flex:"1 1 auto"}})}),e.jsx(ce,{children:e.jsxs(ae,{sx:{},children:[e.jsx(oe,{children:e.jsxs($,{children:[...It.map(t=>e.jsx(C,{children:t},A())),e.jsx(C,{children:"Trap"})]})}),e.jsxs(ne,{children:[...s.map(t=>e.jsxs($,{children:[...t.map(g=>e.jsx(C,{children:g},A())),e.jsx(C,{children:t.length>0&&(()=>{const g=t[t.length-1],v=/Trap[:]? ?\d+/,S=g.match(v),H=(S?S[0]:"").replace(/Trap[:]? ?/,"");return H?e.jsx("p",{children:H}):e.jsx("p",{})})()})]},A()))]})]})})]}),e.jsxs(ie,{children:[e.jsx(le,{children:e.jsx(R,{title:"Analysis",sx:{fontSize:"1em"}})}),e.jsxs(ce,{children:[e.jsxs(ae,{children:[e.jsx(oe,{children:e.jsxs($,{children:[...["Avg. Auto Pieces","Avg. Auto Amp","Max Auto Amp","Avg. Auto Speaker","Max Auto Speaker"].map(t=>e.jsx(C,{children:t},A()))]})}),e.jsx(ne,{children:e.jsxs($,{children:[e.jsx(C,{children:(s.map(t=>u(t[6])+u(t[7])).reduce((t,g)=>t+g,0)/s.length).toFixed(2)}),e.jsx(C,{children:(s.map(t=>u(t[6])).reduce((t,g)=>t+g,0)/s.length).toFixed(2)}),e.jsx(C,{children:Math.max(...s.map(t=>u(t[6])))}),e.jsx(C,{children:(s.map(t=>u(t[7])).reduce((t,g)=>t+g,0)/s.length).toFixed(2)}),e.jsx(C,{children:Math.max(...s.map(t=>u(t[7])))})]})})]}),e.jsxs(ae,{children:[e.jsx(oe,{children:e.jsxs($,{children:[...["Avg. Telop Pieces","Avg. Telop Amp","Max Telop Amp","Avg. Telop Speaker","Max Telop Speaker","Avg. Telop Shuttle","Max Telop Shuttle"].map(t=>e.jsx(C,{children:t},A()))]})}),e.jsx(ne,{children:e.jsxs($,{children:[e.jsx(C,{children:(s.map(t=>u(t[9])+u(t[10])).reduce((t,g)=>t+g,0)/s.length).toFixed(2)}),e.jsx(C,{children:(s.map(t=>u(t[9])).reduce((t,g)=>t+g,0)/s.length).toFixed(2)}),e.jsx(C,{children:Math.max(...s.map(t=>u(t[9])))}),e.jsx(C,{children:(s.map(t=>u(t[10])).reduce((t,g)=>t+g,0)/s.length).toFixed(2)}),e.jsx(C,{children:Math.max(...s.map(t=>u(t[10])))}),e.jsx(C,{children:(s.map(t=>u(t[11])).reduce((t,g)=>t+g,0)/s.length).toFixed(2)}),e.jsx(C,{children:Math.max(...s.map(t=>u(t[11])))})]})})]}),s.length>0?e.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"500px"},children:[e.jsx("h3",{style:{marginLeft:"auto",marginRight:"auto"},children:"Auto Pieces"}),e.jsxs(je,{title:"Auto",sx:{width:"100%"},colors:Ce,yAxis:[{id:"notes"}],xAxis:[{scaleType:"band",data:s.map(t=>"M. "+t[4]),id:"xAxis"}],series:[{label:"Auto Amp",data:s.map(t=>u(t[6])),type:"bar"},{label:"Auto Speaker",data:s.map(t=>u(t[7])),type:"bar"},{label:"Auto Notes",data:s.map(t=>u(t[6])+u(t[7])),type:"line",curve:"linear"}],width:500,height:300,children:[e.jsx(ve,{}),e.jsx(we,{}),e.jsx(ge,{label:"Match #",position:"bottom",axisId:"xAxis"}),e.jsx(xe,{label:"Notes",position:"left",axisId:"notes"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"500px"},children:[e.jsx("h3",{style:{marginLeft:"auto",marginRight:"auto"},children:"Teleop Pieces"}),e.jsxs(je,{title:"Teleop",sx:{width:"100%"},colors:Ce,yAxis:[{id:"notes"}],xAxis:[{scaleType:"band",data:s.map(t=>"M. "+t[4]),id:"xAxis"}],series:[{label:"Teleop Amp",data:s.map(t=>u(t[9])),type:"bar"},{label:"Teleop Speaker",data:s.map(t=>u(t[10])),type:"bar"},{label:"Teleop Shuttle",data:s.map(t=>u(t[11])),type:"bar"},{label:"Auto Notes",data:s.map(t=>u(t[9])+u(t[10])),type:"line",curve:"linear"}],width:500,height:300,children:[e.jsx(ve,{}),e.jsx(we,{}),e.jsx(ge,{label:"Match #",position:"bottom",axisId:"xAxis"}),e.jsx(xe,{label:"Notes",position:"left",axisId:"notes"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"500px"},children:[e.jsx("h3",{style:{marginLeft:"auto",marginRight:"auto"},children:"End Climb"}),e.jsx(Qe,{slotProps:{legend:{hidden:!0}},xAxis:[{scaleType:"band",data:s.map(t=>"M. "+t[4])}],yAxis:[{tickInterval:t=>t===1||t===2||t===3,valueFormatter:t=>t===1?"🅿️":t===2?"🪜":t===3?"🎶":""}],width:500,height:300,series:[{data:s.map(t=>{const g=t[12];return g==="park"?1:g==="onstage"?2:g==="harmony"?3:0})}]})]})]}):""]})]}),e.jsx("br",{})," ",e.jsx("br",{})," ",e.jsx("br",{})]})]})},tr=()=>{const[d,a]=b.useState([]),[n,r]=b.useState([]),[i,p]=b.useState("Average Notes Auto"),[h,m]=b.useState("Average Notes Auto"),s=window.innerWidth,l=["#808080","#c0c0c0","#2f4f4f","#556b2f","#8b4513","#6b8e23","#a52a2a","#2e8b57","#006400","#483d8b","#b8860b","#008b8b","#4682b4","#000080","#d2691e","#9acd32","#32cd32","#7f007f","#8fbc8f","#b03060","#ff4500","#00ced1","#ffa500","#ffd700","#deb887","#00ff00","#9400d3","#00fa9a","#4169e1","#dc143c","#00bfff","#f4a460","#0000ff","#f08080","#adff2f","#ff6347","#ff00ff","#f0e68c","#ffff54","#6495ed","#dda0dd","#87ceeb","#ff1493","#ee82ee","#98fb98","#7fffd4","#fafad2","#ff69b4","#e0ffff","#ffb6c1"],o=c=>{const t=parseInt(c);return isNaN(t)?0:t};b.useEffect(()=>{async function c(){const t=await K.getAsyncData();a(()=>t)}c()},[i,h]);const u={"Average Notes Auto":[[6,7],c=>c.reduce((t,g)=>t+o(g[0])+o(g[1]),0)/c.length],"Max Auto Notes":[[6,7],c=>Math.max(...c.map(t=>o(t[0])+o(t[1])))],"Average Amp Notes Auto":[[6],c=>c.reduce((t,g)=>t+o(g[0]),0)/c.length],"Average Speaker Notes Auto":[[7],c=>c.reduce((t,g)=>t+o(g[0]),0)/c.length],"Max Speaker Auto":[[7],c=>Math.max(...c.map(t=>o(t[0])))],"Max Amp Auto":[[6],c=>Math.max(...c.map(t=>o(t[0])))],"Average Notes Teleop":[[9,10],c=>c.reduce((t,g)=>t+o(g[0])+o(g[1]),0)/c.length],"Average Amp Notes Teleop":[[9],c=>c.reduce((t,g)=>t+o(g[0]),0)/c.length],"Max Amp Teleop":[[9],c=>Math.max(...c.map(t=>o(t[0])))],"Average Speaker Notes Teleop":[[10],c=>c.reduce((t,g)=>t+o(g[0]),0)/c.length],"Max Speaker Teleop":[[10],c=>Math.max(...c.map(t=>o(t[0])))],"Average Shuttle Notes Teleop":[[10],c=>c.reduce((t,g)=>t+o(g[0]),0)/c.length],"Max Shuttle Teleop":[[11],c=>Math.max(...c.map(t=>o(t[0])))],"Average Climb Points":[[12,14],c=>c.map(t=>t[0]==="none"?0:t[0]==="park"?1:t[0]==="onstage"||t[1]==="no"?3:t[0]==="onstage"||t[1]==="yes"?4:t[0]==="harmony"||t[1]==="no"?5:t[0]==="harmony"||t[1]==="yes"?6:0).reduce((t,g)=>t+g,0)/c.length],"Max Climb Points":[[12,14],c=>Math.max(...c.map(t=>t[0]==="none"?0:t[0]==="park"?1:t[0]==="onstage"||t[1]==="no"?3:t[0]==="onstage"||t[1]==="yes"?4:t[0]==="harmony"||t[1]==="no"?5:t[0]==="harmony"||t[1]==="yes"?6:0))]};b.useEffect(()=>{const c=()=>d?d.length===0?[]:Array.from(new Set(d.map(t=>o(t[3])))):[];r(()=>c())},[d]);const f=(c,t)=>{if(d.length===0||!(t in u))return 0;const g=d.filter(q=>o(q[3])===c),v=u[t][0],S=g.map(q=>v.map(H=>q[H]));return u[t][1](S)};return e.jsxs(z,{sx:{width:"100%",height:"100%",display:"flex",flexWrap:"wrap",paddingTop:"50px",alignItems:"start",scrollbarWidth:"none",padding:"10px",overflow:"scroll",overflowX:"scroll"},children:[e.jsxs(et,{colors:l,width:s,height:500,sx:{marginBottom:0},series:n.map(c=>({label:c.toString(),data:[{x:parseFloat(f(c,i).toFixed(2)),y:parseFloat(f(c,h).toFixed(2)),id:c}]})),slotProps:{legend:{labelStyle:{display:"none"},itemMarkHeight:0,itemMarkWidth:0}},yAxis:[{id:"leftAxis"}],xAxis:[{id:"bottomAxis"}],children:[e.jsx(xe,{axisId:"leftAxis",position:"left",label:h}),e.jsx(ge,{axisId:"bottomAxis",position:"bottom",label:i})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",rowGap:"2px"},children:[...n.map((c,t)=>e.jsxs("div",{style:{display:"flex",padding:"5px"},children:[e.jsx("div",{style:{display:"inline-block",width:"20px",height:"20px",backgroundColor:l[t%l.length],marginRight:"10px"}}),e.jsx(X,{variant:"caption",sx:{color:x.getCurrentThemeData().primary},children:c})]}))]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"100%"},children:[e.jsxs(W,{sx:{width:"50%"},children:[e.jsx(T,{id:"xAxis",sx:{color:x.getCurrentThemeData().primary},children:"X Axis"}),e.jsxs(J,{sx:{color:x.getCurrentThemeData().primary},label:"X Axis",labelId:"xAxis",onChange:c=>{p(()=>c.target.value)},value:i,children:[...Object.keys(u).map(c=>e.jsx(I,{value:c,children:c}))]})]}),e.jsxs(W,{sx:{width:"50%"},children:[e.jsx(T,{id:"yAxis",sx:{color:x.getCurrentThemeData().primary},children:"Y Axis"}),e.jsxs(J,{sx:{color:x.getCurrentThemeData().primary},label:"Y Axis",labelId:"yAxis",onChange:c=>{m(()=>c.target.value)},value:h,children:[...Object.keys(u).map(c=>e.jsx(I,{value:c,children:c}))]})]})]}),e.jsx("br",{})," ",e.jsx("br",{})," ",e.jsx("br",{})," ",e.jsx("br",{})]})},rr=()=>{const d={"Max (ALL)":o=>Math.max(...o.map(u=>m(u[6])+m(u[7])+m(u[9])+m(u[10])+m(u[11]),0)),"Max (shuttle)":o=>Math.max(...o.map(u=>m(u[11]))),"Max (amp)":o=>Math.max(...o.map(u=>m(u[9]))),"Max (speaker)":o=>Math.max(...o.map(u=>m(u[10]))),"Average notes scored (total)":o=>o.reduce((u,f)=>u+(m(f[6])+m(f[7])+m(f[9])+m(f[10])+m(f[11])),0)/o.length,"Average notes scored (Auto)":o=>o.reduce((u,f)=>u+(m(f[6])+m(f[7])),0)/o.length,"Average notes scored (Teleop)":o=>o.reduce((u,f)=>u+(m(f[9])+m(f[10])+m(f[11])),0)/o.length,"Average Amp (Auto)":o=>o.reduce((u,f)=>u+m(f[6]),0)/o.length,"Average Speaker (Auto)":o=>o.reduce((u,f)=>u+m(f[7]),0)/o.length,"Average Amp (Teleop)":o=>o.reduce((u,f)=>u+m(f[9]),0)/o.length,"Average Speaker (Teleop)":o=>o.reduce((u,f)=>u+m(f[10]),0)/o.length,"Average Shuttle":o=>o.reduce((u,f)=>u+m(f[11]),0)/o.length},[a,n]=b.useState([]),[r,i]=b.useState([]),[p,h]=b.useState([]),m=o=>{const u=parseInt(o);return isNaN(u)?0:u};async function s(){const o=await K.getAsyncData();n(()=>o)}const l=(o,u)=>{if(a){if(a.length===0||!(u in d))return 0;const f=a.filter(c=>parseInt(c[3])===o);return d[u](f)}};return b.useEffect(()=>{s()},[]),b.useEffect(()=>{const o=()=>a?a.length===0?[]:Array.from(new Set(a.map(u=>parseInt(u[3])))).filter(u=>!isNaN(u)):[];i(()=>o())},[a]),b.useEffect(()=>{h(r.map(o=>{const u={id:o,teamnum:o};return Object.keys(d).forEach(f=>{u[f]=l(o,f)}),u}))},[r]),e.jsx(z,{sx:{width:"100%",height:"100%",display:"flex",WebkitAlignItems:"center",paddingTop:"50px",alignItems:"start",scrollbarWidth:"none",padding:"10px",overflow:"scroll",overflowX:"scroll"},children:e.jsx(tt,{rows:p,columns:[{field:"teamnum",headerName:"Team #",width:250},...Object.keys(d).map(o=>({field:o,headerName:o,width:250,valueFormatter:u=>isNaN(u)?"":u.toFixed(2)}))],pageSizeOptions:[5,10,20,50,100],sx:{height:"90%",color:x.getCurrentThemeData().primary}})})},D={0:"/",1:"/info",2:"/auto",3:"/teleop",4:"/endscreen1",6:"/pit-scouting",7:"/lookup",8:"/graphs",9:"/leaderboard"};function ar(){const[d,a]=b.useState(!1),[n,r]=b.useState(""),[i,p]=b.useState(!1),[h,m]=b.useState(de(localStorage.getItem("theme")??"dark")),[s,l]=b.useState(x.themesList.indexOf(localStorage.getItem("customtheme")??"none"));x.setThemeId(localStorage.getItem("customtheme")??"none");const[o,u]=b.useState(1),f=b.useState(Le),c=b.useState(Pe),t=te.getInstance(),g=vt();async function v(){if(d)return;a(!0),P("You are now online"),await We()?t.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>{t.readAllData("OfflineScouterDataQueue").then(Z=>{Z.length!==0&&fetch("https://api.steinhq.com/v1/storages/661429064a642363121a7a44/test",{method:"POST",body:JSON.stringify(Z),headers:{"Content-Type":"application/json"},cache:"no-store"}).then(()=>{P(`Uploaded ${Z.length} matches that were saved offline`),t.deleteAllData("OfflineScouterDataQueue")})})}):(a(!1),P("You think you are online, but you are not connected to the internet"))}function S(){P("You are now offline (matches will be saved locally until you reconnect)"),a(!1)}b.useEffect(()=>{const w=()=>{fe.updateJSON(),window.removeEventListener("load",w,!0),a(navigator.onLine),navigator.onLine||S(),window.addEventListener("online",v),window.addEventListener("offline",S)};window.addEventListener("load",w,{once:!0})},[v,S]),b.useEffect(()=>{ye.updateFilesJson(),K.updateSheetsJson()},[f[0].scouterName]),b.useEffect(()=>{fe.updateJSON()},[f[0].matchNumber]);const q=()=>{l((s+1)%x.themesList.length),x.setThemeId(x.themesList[(s+1)%x.themesList.length]),localStorage.setItem("customtheme",x.themesList[(s+1)%x.themesList.length])},H=()=>{const w=h.palette.mode==="dark"?de("light"):de("dark");m(w),localStorage.setItem("theme",w.palette.mode)},k=w=>{D[w]&&(u(w),g(D[w],{replace:!0}))},ze=()=>{p(!1)},P=w=>{p(!0),r(w)},$e=()=>{const w=x.getThemeId(),Z={alpine:e.jsx(gt,{}),ocean:e.jsx(xt,{}),desert:e.jsx(ft,{}),lavender:e.jsx(bt,{}),volcano:e.jsx(yt,{}),sunset:e.jsx(jt,{}),none:e.jsx(Se,{})};return w in Z?Z[w]:e.jsx(Se,{})};return e.jsx(e.Fragment,{children:e.jsx(z,{sx:{width:"100vw",height:"100vh"},children:e.jsx(rt,{children:e.jsx(at,{theme:h,children:e.jsxs(z,{sx:{width:"100%",height:"100%",backgroundColor:w=>w.palette.mode==="light"?w.palette.grey[100]:w.palette.grey[900]},children:[e.jsx(E,{style:{color:x.getCurrentThemeData().primary},"aria-label":"Home",sx:{position:"fixed",top:"0px",left:"0px"},onClick:()=>{k(1)},children:e.jsx(ot,{})}),e.jsxs(wt,{children:[e.jsx(G,{path:D[0],element:e.jsx(qt,{navigation:k,scoutingSetterGetter:f,alert:P})}),e.jsx(G,{path:D[1],element:e.jsx(Jt,{navigation:k,scoutingSetterGetter:f,alert:P})}),e.jsx(G,{path:D[2],element:e.jsx(Kt,{navigation:k,scoutingSetterGetter:f,alert:P})}),e.jsx(G,{path:D[3],element:e.jsx(Vt,{navigation:k,scoutingSetterGetter:f,alert:P})}),e.jsx(G,{path:D[4],element:e.jsx(Yt,{navigation:k,scoutingSetterGetter:f,alert:P})}),e.jsx(G,{path:D[6],element:e.jsx(Xt,{pitSetterGetter:c,alert:P})}),e.jsx(G,{path:D[7],element:e.jsx(er,{})}),e.jsx(G,{path:D[8],element:e.jsx(tr,{})}),e.jsx(G,{path:D[9],element:e.jsx(rr,{})})]}),e.jsx("div",{id:"notifications",children:e.jsx(nt,{open:i,autoHideDuration:1e4,onClose:ze,children:e.jsx(st,{message:n,sx:{backgroundColor:h.palette.mode==="light"?h.palette.grey[100]:h.palette.grey[900],color:h.palette.mode==="light"?h.palette.grey[900]:h.palette.grey[100]}})})}),e.jsxs("div",{id:"themeToggle",style:{position:"fixed",bottom:"20px",left:"20px"},children:[e.jsx(E,{"aria-label":"Theme Selector",onClick:q,title:"theme selector",style:{color:x.getCurrentThemeData().primary},children:$e()}),e.jsx(E,{"aria-label":"Color Mode",onClick:H,title:"dark mode",style:{color:x.getCurrentThemeData().primary},children:h.palette.mode==="dark"?e.jsx(it,{}):e.jsx(lt,{})}),e.jsx(E,{"aria-label":"Pit Scouting",style:{color:x.getCurrentThemeData().primary},onClick:()=>{k(6)},title:"Pit Scouting",children:e.jsx(ct,{})}),e.jsx(E,{"aria-label":"Team Search",style:{color:x.getCurrentThemeData().primary},onClick:()=>{k(7)},title:"search teams",children:e.jsx(ut,{})}),e.jsx(E,{"aria-label":"Graph",style:{color:x.getCurrentThemeData().primary},onClick:()=>{k(8)},title:"Graph View",children:e.jsx(dt,{})}),e.jsx(E,{"aria-label":"Leaderboard",title:"Leaderboard",style:{color:x.getCurrentThemeData().primary},onClick:()=>{k(9)},children:e.jsx(ht,{})})]}),e.jsxs("div",{id:"themeToggle",style:{position:"fixed",bottom:"20px",right:"20px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"10px"},children:[e.jsx(E,{"aria-label":"Back 1 page",style:{color:x.getCurrentThemeData().primary},onClick:()=>{k(o-1)},children:e.jsx(pt,{})}),e.jsx(E,{"aria-label":"Forward 1 page",style:{color:x.getCurrentThemeData().primary},onClick:()=>{k(o+1)},children:e.jsx(mt,{})})]})]})})})})})}Ve.createRoot(document.getElementById("root")).render(e.jsx(Ke.StrictMode,{children:e.jsxs(St,{children:[e.jsx(ar,{})," "]})}));
