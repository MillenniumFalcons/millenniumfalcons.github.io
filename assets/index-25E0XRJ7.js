var Je=Object.defineProperty;var Ke=(d,r,s)=>r in d?Je(d,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):d[r]=s;var ae=(d,r,s)=>(Ke(d,typeof r!="symbol"?r+"":r,s),s);import{j as e,r as y,a as Ve}from"./react-rKaTJ6rC.js";import{c as qe}from"./react-dom-6aGZtuvN.js";import{c as Ye,s as He,S as Ze,T as Q,B as Qe,M as v,a as Pe,b as M,d as $,F as W,e as R,f as A,g as z,h as D,R as te,i as O,j as B,k as Xe,A as le,l as ce,m as ue,n as oe,o as ne,p as U,q as w,r as se,t as Ce,u as ve,v as we,L as Se,C as xe,w as fe,x as et,y as tt,D as rt,z as at,E as ot,I as G,H as nt,G as st,J as it,K as lt,N as ct,O as ut,P as dt,Q as ht,U as pt,V as mt,W as gt,X as Ae,Y as xt,Z as ft,_ as bt,$ as yt,a0 as jt,a1 as Ct}from"./@mui-KY3h_Vqr.js";import{v as T}from"./uuid-yQnnJER4.js";import{I as vt}from"./imagekit-IXdsfQA1.js";import{u as wt,a as St,b as _}from"./react-router-Qfa4vrje.js";import{B as At}from"./react-router-dom-RWL_fUCn.js";import"./@babel-1eI3ubiv.js";import"./scheduler-iwWdm5Ml.js";import"./@emotion-MmGlNCCc.js";import"./hoist-non-react-statics-ruMgn741.js";import"./stylis-UTZzoVRx.js";import"./react-is-q81m-9gd.js";import"./clsx-Zbgk8kpT.js";import"./react-transition-group-am-CiPuM.js";import"./@react-spring-WSCnDrwI.js";import"./d3-color-0OvjxriG.js";import"./d3-interpolate-E_NIlnYy.js";import"./d3-shape-JTn4KTFh.js";import"./d3-path-B_10WkFA.js";import"./d3-scale-aMHsSRTu.js";import"./internmap-Ts8DYYQa.js";import"./d3-array-wUFzFig2.js";import"./d3-format-9E78v3lr.js";import"./d3-time-format-0imObhOF.js";import"./d3-time-xXQrfqad.js";import"./d3-delaunay-aCXE4wJG.js";import"./delaunator-IGifLgEt.js";import"./robust-predicates-cFBOqhuN.js";import"./prop-types-i7IregA9.js";import"./reselect-SnMqv3yZ.js";import"./@popperjs-zyV4rJhQ.js";import"./lodash-Xr53mQ-n.js";import"./axios-d3lcUOYg.js";import"./hamming-distance-_tY3BPi_.js";import"./form-data-QPNVk4j9.js";import"./@remix-run-w2aNq8l3.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))l(h);new MutationObserver(h=>{for(const g of h)if(g.type==="childList")for(const p of g.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function s(h){const g={};return h.integrity&&(g.integrity=h.integrity),h.referrerPolicy&&(g.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?g.credentials="include":h.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function l(h){if(h.ep)return;h.ep=!0;const g=s(h);fetch(h.href,g)}})();const Tt={none:{primary:"#696969",secondary:"#696969"},alpine:{primary:"#32ab64",secondary:"#5a9e76"},ocean:{primary:"#4852c7",secondary:"#364c87"},desert:{primary:"#b6bd5e",secondary:"#a1a662"},lavender:{primary:"#a33abd",secondary:"#993eb0"},volcano:{primary:"#e43606",secondary:"#dc5414"},sunset:{primary:"#e77e44",secondary:"#c97b55"}},kt=["none","alpine","ocean","desert","lavender","volcano","sunset"];let Te,de="none";class Dt{constructor(){ae(this,"themesList",kt);if(Te)throw new Error("You can only create one instance!");Te=this}getInstance(){return this}getCurrentThemeData(){return Tt[de]}setThemeId(r){de=r}getThemeId(){return de}}const f=Object.freeze(new Dt),C={main:{primary:f.getCurrentThemeData().primary,2:f.getCurrentThemeData().primary,1:f.getCurrentThemeData().primary,0:"#414141"},black:{primary:"#151515",2:"#666",1:"#333",0:"#0A0A0A"},white:{primary:"#FFF",1:"#EEE",0:"#CCC"}},Nt=d=>({palette:{mode:d,...d==="light"?{primary:{main:C.main[2]},text:{primary:C.black[0],secondary:C.black[2],tertiary:C.main[1]}}:{primary:{main:C.main[1]},background:{default:C.black[1],paper:C.black.primary},text:{primary:C.white[1],secondary:C.white[0],tertiary:C.main[1]}}},components:{MuiAppBar:{styleOverrides:{colorPrimary:{backgroundColor:C.main[2],color:C.white.primary}}},MuiInputLabel:{styleOverrides:{root:{color:d==="light"?C.black[1]:C.white[1]}}},MuiInputBase:{styleOverrides:{root:{input:{height:"auto"}}}},MuiFormControlLabel:{styleOverrides:{root:{color:d==="light"?C.black[1]:C.white[1]}}},MuiOutlinedInput:{styleOverrides:{root:{fieldset:{borderColor:d==="light"?C.black[1]:C.white[1]}}}},MuiToolbar:{styleOverrides:{root:{backgroundColor:`${d==="light"?C.main[2]:C.black.primary} !important`}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:`${d==="light"?C.white[0]:C.black[0]} !important`}}}},typography:{fontFamily:"HelveticaNeueLight, sans-serif",fontWeightRegular:400},overrides:{MuiTypography:{styleOverrides:{root:{letterSpacing:"0.05em"}}},MuiCssBaseline:{"@global":{"@font-face":{fontFamily:"HelveticaNeueLight",fontStyle:"normal",fontWeight:400,src:`
          local('HelveticaNeueLight'),
          url(./fonts/HelveticaNeue-Light.otf) format('opentype')
        `}}},MuiAccordion:{root:{"&$expanded":{margin:"auto"}}},MuiAccordionSummary:{content:{"&$expanded":{margin:"12px 0"}}},MuiAccordionDetails:{root:{padding:16}}}}),he=d=>Ye(Nt(d)),ie={pageContainer:{"&::WebkitScrollbar":{width:0,height:0},width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",gap:"100px",overflowY:"scroll"},form:{width:"100%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem"},teamSwitch:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"20px"}},F="#821C1E",I="#3f51b5",Le={scouterName:"",teamNum:0,intake:"",preferredAutoPos:"",canClimb:!1,FramePerimeter:0,weight:0,canGoUnderChain:!1,numBatteries:0,numBatteryChargers:0,ProgrammingLanguage:"",driveTrain:"",numMotors:0,motorType:"",image:"https://placehold.co/400x400?text=upload%20image",doLocktiteFalcons:!1},It=["Scouter Name","Team #","Intake Positions","Preferred Starting Position","Can Climb","Frame Perimeter","Weight","Under Chain","# of Batteries","# of Chargers","Programming Language","Drive Train","# of Motors","Are Falcons loctited"],X={intake:["ground","station","both","none"],preferredAutoPos:["don't care","1","2","3"],ProgrammingLanguage:["Java","C++","LabVIEW","Python"],driveTrain:["West Coast Drive","Swerve Drive","2-Wheel Drive","4-Wheel Drive","Other 6-Wheel Drive","Car Drive","H-Drive","Holonomic Drive","Mecanum Drive","other"],motorType:["Talon-500 Motor","NEO motor","NEO 550 motor","Kraken Motor","Jaguar Motor","Venom Motor","Nidec Dynamo BLDC Motor","other"]},Mt=["Scouter Name","Alliance Color","Alliance Position","Team Number","match Number","auto Taxi","auto Amp","Auto Speaker","auto Misses","teleop Amp","teleop Speaker","teleop Shuttle","Teleop Climb","broken","spotlight","notes"],Fe={uuid:T(),scouterName:"",color:"red",alliancePosition:1,teamNumber:NaN,matchNumber:NaN,autoTaxi:!1,autoAmp:0,autoSpeaker:0,autoMisses:0,teleopAmp:0,teleopSpeaker:0,teleopShuttle:0,teleopClimb:"",broken:!1,spotlight:!1,notes:""},Pt=15,Lt=135,ke="3bf14c94cacb7b7bf51ecc306f3dad088a839ec16a99bdec3e4f2bbf6831c544",Oe="2024cmptx",Be=He(d=>e.jsx(Ze,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...d}))(({theme:d})=>({width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:F,opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:I,border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:d.palette.mode==="light"?d.palette.grey[100]:d.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:d.palette.mode==="light"?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:26/2,backgroundColor:I,opacity:1,transition:d.transitions.create(["background-color"],{duration:500})}})),Ft={appNameContainer:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"end",gap:"20px"}},E=({title:d,children:r,sx:s={},hover:l=""})=>e.jsxs("div",{style:Ft.appNameContainer,children:[e.jsx(Q,{variant:"h1",title:l,sx:Object.assign({},{color:f.getCurrentThemeData().primary,fontFamily:"Lexend",fontWeight:"bold",textTransform:"uppercase",paddingTop:"0px",marginTop:"0px",fontSize:"4em"},s),children:d}),r]}),Re="1v7rt_tRsWAKDxGMnfeCTZNCB9mOycKVb5izpzJTe07Y",Ot="AIzaSyCtpEW-xu38_uBirzfKie_rsGpfkhlaaiY",Bt="test",Rt="A2:Z5000",De=`https://sheets.googleapis.com/v4/spreadsheets/${Re}/values/${Bt}!${Rt}?key=${Ot}`;let Ne,J;class Et{constructor(){if(Ne)throw new Error("You can only create one instance!");Ne=this}getInstance(){return this}async getPitScouting(){return new Promise((r,s)=>{fetch(De.replace(Re,"1Em2CmfPw0XNbrP0T7f42goERnDkcGvJqQq5vJJb7GuI").replace("test","PitScouting")).then(l=>l.json()).then(l=>r(l.values)).catch(l=>s(l))})}updateSheetsJson(){fetch(De).then(r=>r.json()).then(r=>J=r.values).catch(()=>{})}getSheetsRaw(){return this.updateSheetsJson(),J}async getAsyncData(){return J||await this.updateSheetsJson(),J}getInstancesByName(r){return J?J.filter(s=>s[0]===r).length:0}getInstancesByTeamNum(r){return J?J.filter(s=>s[3]===r):[]}}const K=Object.freeze(new Et),ye="H19M5A4ypIJMbzipmH6lZt0U38K5XihV9m6PpQi5cq2VRuUp84omcFbc3iRPDDiQ",Gt="https://www.thebluealliance.com/api/v3/team/frc",Ee="https://www.thebluealliance.com/api/v3/team/frc{team}/media/"+new Date().getFullYear();async function Ge(d){if(isNaN(parseFloat(d)))return"";try{return(await(await fetch(Gt+d,{cache:"force-cache",headers:{"X-TBA-Auth-Key":ye}})).json()).nickname}catch{return""}}async function _t(d){if(isNaN(parseFloat(d)))return[];try{const s=await(await fetch(Ee.replace("{team}",d),{cache:"force-cache",headers:{"X-TBA-Auth-Key":ye}})).json();if(s.length===0)return[];let l=[];return s.forEach(h=>{h.type!=="instagram-image"&&(h.direct_url!==""&&l.push(h.direct_url),{}.propertyIsEnumerable.call(h.details,"base64Image")&&l.push("data:image/png;base64,"+h.details.base64Image))}),l}catch{return[]}}async function Wt(d){if(isNaN(parseFloat(d)))return"";try{const s=await(await fetch(Ee.replace("{team}",d),{cache:"force-cache",headers:{"X-TBA-Auth-Key":ye}})).json();if(s.length===0)return"";let l="";return s.forEach(h=>{h.type!=="instagram-image"&&(h.direct_url!==""&&(l=h.direct_url),{}.propertyIsEnumerable.call(h.details,"base64Image")&&(l="data:image/png;base64,"+h.details.base64Image))}),l}catch{return""}}const zt=({url:d,width:r})=>e.jsx("img",{src:d,width:r}),$t="H19M5A4ypIJMbzipmH6lZt0U38K5XihV9m6PpQi5cq2VRuUp84omcFbc3iRPDDiQ";let Ie;const Ut=`https://www.thebluealliance.com/api/v3/event/${Oe}/matches`;let L=[];class Jt{constructor(){if(Ie)throw new Error("You can only create one instance!");Ie=this}getInstance(){return this}getData(){return L}getDataByMatch(r){for(let s=0;s<L.length;s++)if(L[s].match_number===r)return L[s]}getDataByTeamNumber(r){var l,h;const s=[];for(let g=0;g<L.length;g++)return L[g].alliances&&((l=L[g].alliances)!=null&&l.blue.team_keys.includes(`frc${r}`)||(h=L[g].alliances)!=null&&h.blue.team_keys.includes(`frc${r}`))&&s.push(L[g]),s}updateJSON(){fetch(Ut,{headers:{"X-TBA-Auth-Key":$t}}).then(r=>r.json()).then(r=>{const s=[];for(let l=0;l<r.length;l++){const h=r[l];s.push(h)}L=s})}}const be=Object.freeze(new Jt),Kt=d=>{const r=d.scoutingSetterGetter[1],[s,l]=y.useState(""),[h,g]=y.useState(""),p=d.scoutingSetterGetter[0],x=()=>{const i=be.getDataByMatch(p.matchNumber),t=p.color,a=p.alliancePosition-1;if(!(i!=null&&i.alliances))return;const m=i==null?void 0:i.alliances[t].team_keys[a],j=structuredClone(p);j.teamNumber=parseInt(m.replace("frc","")),r(j)};y.useEffect(()=>{x()},[p.matchNumber,p.alliancePosition,p.color]),y.useEffect(()=>{async function i(){l(await Ge(p.teamNumber))}async function t(){isNaN(p.teamNumber)||g(await Wt(p.teamNumber))}g(""),i(),t()},[p.teamNumber]);const o=d.navigation;function c(){return p.color==="red"?F:I}function n(i){return p.alliancePosition==i?"contained":"outlined"}function u(i){return n(i)=="contained"?{backgroundColor:c(),borderColor:c(),"&:hover":{backgroundColor:c(),borderColor:c()},"&:active":{backgroundColor:c(),borderColor:c()}}:{color:c(),borderColor:c(),"&:hover":{backgroundColor:c(),borderColor:c()},"&:active":{backgroundColor:c(),borderColor:c()}}}const b=()=>{const i=structuredClone(p);i.color==="red"?i.color="blue":i.color="red",r(i)};return e.jsxs("div",{style:ie.pageContainer,children:[e.jsx(E,{title:"Falcon",children:e.jsx(Q,{variant:"h2",sx:{color:"#CA3E47",fontFamily:"Montserrat-Normal",fontWeight:"bold",position:"absolute",top:"1em",left:"50%"},children:"Scouting"})}),e.jsxs("div",{style:ie.form,children:[e.jsx(Qe,{badgeContent:K.getInstancesByName(p.scouterName),color:"primary",children:e.jsx(v,{label:"Scout Name",variant:"filled",onChange:i=>{const t=structuredClone(p);t.scouterName=i.target.value,r(t)},value:p.scouterName})}),e.jsx(v,{label:"Team Number",variant:"filled",type:"number",helperText:s,value:Number.isNaN(p.teamNumber)?"":p.teamNumber,onChange:i=>{const t=structuredClone(p);t.teamNumber=parseInt(i.target.value),r(t)}}),e.jsx(zt,{url:h,width:128,height:128}),e.jsx(v,{label:"Match Number",variant:"filled",type:"number",value:Number.isNaN(p.matchNumber)?"":p.matchNumber,onChange:i=>{const t=structuredClone(p);t.matchNumber=parseInt(i.target.value),r(t)}}),e.jsxs("div",{style:ie.teamSwitch,children:[e.jsx(Q,{variant:"body1",sx:{color:c(),fontFamily:"Montserrat-Normal",fontWeight:"bold"},children:"Team Color"}),e.jsx(Be,{checked:p.color==="red",onChange:b})]}),e.jsxs(Pe,{sx:{outlineColor:c()},children:[e.jsx(M,{sx:u(1),variant:n(1),onClick:()=>{const i=structuredClone(p);i.alliancePosition=1,r(i)},children:"One"}),e.jsx(M,{sx:u(2),variant:n(2),onClick:()=>{const i=structuredClone(p);i.alliancePosition=2,r(i)},children:"Two"}),e.jsx(M,{sx:u(3),variant:n(3),onClick:()=>{const i=structuredClone(p);i.alliancePosition=3,r(i)},children:"Three"})]}),e.jsx(M,{color:"success",variant:"contained",onClick:()=>{o(2)},children:"Submit"})]})]})},q=({children:d,...r})=>{const s={height:"100%",width:"100%",background:f.getCurrentThemeData().secondary,"&:hover":{backgroundColor:f.getCurrentThemeData().secondary,borderColor:f.getCurrentThemeData().secondary},"&:active":{backgroundColor:f.getCurrentThemeData().secondary,borderColor:f.getCurrentThemeData().secondary},fontFamily:"Lexend",fontSize:"4.25em",fontWeight:"bold",color:"white",position:"relative"};return e.jsxs(M,{sx:s,...r,children:[d,e.jsx("div",{style:{position:"absolute",bottom:"0px",right:"0px",fontSize:"15px",marginRight:"15px"},children:r.minitext})]})},_e=({duration:d,color:r,onFinish:s,title:l})=>{const h=c=>{const n=Math.floor(c/60),u=Math.floor(c-n*60);return`${("0"+n).slice(-2)}:${("0"+u).slice(-2)}`};let g=d,p=c=>{};[g,p]=y.useState(d);const[x,o]=y.useState(Date.now());return y.useEffect(()=>{g<=0&&s();const c=g>0&&setInterval(()=>{p(g-(Date.now()-x)/1e3),o(Date.now())},10);return()=>clearInterval(typeof c=="number"?c:0)},[g,s,x]),e.jsx(E,{title:l,hover:h(g),sx:{backgroundClip:"text",WebkitTextFillColor:"transparent",backgroundImage:`linear-gradient(to right, ${f.getCurrentThemeData().secondary} 0%,${f.getCurrentThemeData().secondary} ${g/d*100}%,${r} ${g/d*100}%,${r} 100%)`}})},pe={buttonsContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px"},buttonRowContainer:{paddingLeft:"100px",paddingRight:"100px",width:"100%",height:"30%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"50px"}},We=({children:d,...r})=>{var p;const s=r.scouterSetter;let l=[!1,!0];typeof r.scouterData=="string"&&(l=["","park","onstage","harmony"]);const[h,g]=y.useState(l.indexOf(r.start)??0);return e.jsx(q,{minitext:(p=l[h])==null?void 0:p.toString(),onClick:()=>{g(()=>(h+1)%l.length),s(l[(h+1)%l.length])},children:d})},Vt=d=>{const r=d.scoutingSetterGetter[1],s=d.scoutingSetterGetter[0];return e.jsxs($,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(_e,{title:"Auto",color:"green",duration:Pt,onFinish:()=>{}}),e.jsxs("div",{style:pe.buttonsContainer,children:[e.jsxs("div",{style:pe.buttonRowContainer,children:[e.jsx(We,{start:s.autoTaxi,scouterData:s.autoTaxi,scouterSetter:l=>{const h=structuredClone(s);typeof l=="boolean"&&(h.autoTaxi=l,r(h))},children:"Moved"}),e.jsx(q,{onClick:()=>{const l=structuredClone(s);l.autoAmp++,r(l)},minitext:s.autoAmp,children:"AMP"})]}),e.jsxs("div",{style:pe.buttonRowContainer,children:[e.jsx(q,{onClick:()=>{const l=structuredClone(s);l.autoSpeaker++,r(l)},minitext:s.autoSpeaker,children:"SPEAKER"}),e.jsx(q,{onClick:()=>{const l=structuredClone(s);l.autoMisses++,r(l)},minitext:s.autoMisses,children:"MISS"})]})]})]})},me={buttonsContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px"},buttonRowContainer:{paddingLeft:"100px",paddingRight:"100px",width:"100%",height:"30%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"50px"}},qt=d=>{const r=d.scoutingSetterGetter[1],s=d.scoutingSetterGetter[0];return e.jsxs($,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(_e,{title:"Teleop",color:"green",duration:Lt,onFinish:()=>{}}),e.jsxs("div",{style:me.buttonsContainer,children:[e.jsxs("div",{style:me.buttonRowContainer,children:[e.jsx(q,{onClick:()=>{const l=structuredClone(s);l.teleopAmp++,r(l)},minitext:s.teleopAmp,children:"AMP"}),e.jsx(q,{onClick:()=>{const l=structuredClone(s);l.teleopSpeaker++,r(l)},minitext:s.teleopSpeaker,children:"SPEAKER"})]}),e.jsxs("div",{style:me.buttonRowContainer,children:[e.jsx(q,{onClick:()=>{const l=structuredClone(s);l.teleopShuttle++,r(l)},minitext:s.teleopShuttle,children:"Shuttle"}),e.jsx(We,{scouterData:s.teleopClimb,scouterSetter:l=>{const h=structuredClone(s);(l===""||l==="park"||l==="onstage"||l==="harmony")&&(h.teleopClimb=l,r(h))},start:s.teleopClimb,children:"CLIMB"})]})]})]})};async function ze(){try{return await fetch("https://google.com",{mode:"no-cors"}),!0}catch{return!1}}const V=class V{constructor(){ae(this,"db",null)}static getInstance(){return V.instance||(V.instance=new V),V.instance}async openDatabase(r,s,l,h){return new Promise((g,p)=>{const x=indexedDB.open(r,s);x.onerror=()=>{p(new Error("Failed to open IndexedDB"))},x.onsuccess=()=>{this.db=x.result,g()},x.onupgradeneeded=o=>{const c=o.target.result;c.objectStoreNames.contains(l)||c.createObjectStore(l,{keyPath:h})}})}async addData(r,s){return new Promise((l,h)=>{if(!this.db){h(new Error("Database is not open"));return}const x=this.db.transaction([r],"readwrite").objectStore(r).add(s);x.onerror=o=>{h(new Error(`Failed to add data to IndexedDB: ${o}`))},x.onsuccess=()=>{l()}})}async readAllData(r){return new Promise((s,l)=>{if(!this.db){l(new Error("Database is not open"));return}const p=this.db.transaction([r],"readonly").objectStore(r).getAll();p.onerror=()=>{l(new Error("Failed to read data from IndexedDB"))},p.onsuccess=()=>{const x=p.result;s(x)}})}async deleteAllData(r){return new Promise((s,l)=>{if(!this.db){l(new Error("Database is not open"));return}const p=this.db.transaction([r],"readwrite").objectStore(r).clear();p.onerror=()=>{l(new Error("Failed to delete data from IndexedDB"))},p.onsuccess=()=>{s()}})}};ae(V,"instance");let re=V;const ee=d=>d.toString(),Yt=d=>{const r={"Driving Speed":[...Array(11).keys()].map(ee),"Driving Skill":[...Array(11).keys()].map(ee),Defense:[...Array(11).keys()].map(ee),"Climbing Speed":[...Array(11).keys()].map(ee),"Shooting Distance":["Subwoofer","Stage","Midline"],"Shooting Consistency":[...Array(11).keys()].map(ee)},s=Object.keys(r).reduce((a,m)=>({...a,[m]:r[m][0]}),{}),[l,h]=y.useState(s),[g,p]=y.useState(""),x=d.navigation,o=d.scoutingSetterGetter[1],c=d.scoutingSetterGetter[0],n={themeColor:{color:f.getCurrentThemeData().primary},outline:{".MuiOutlinedInput-notchedOutline":{borderColor:c.color==="red"?F:I},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:c.color==="red"?F:I,borderWidth:"0.15rem"},span:{color:c.color==="red"?F:I},legend:{color:c.color==="red"?F:I}}};function u(){return c.color==="red"?F:I}function b(a){return c.alliancePosition==a?"contained":"outlined"}function i(a){return b(a)=="contained"?{color:f.getCurrentThemeData().primary,backgroundColor:u(),borderColor:u(),"&:hover":{backgroundColor:u(),borderColor:u()},"&:active":{backgroundColor:u(),borderColor:u()}}:{color:u(),borderColor:u(),"&:hover":{backgroundColor:u(),borderColor:u()},"&:active":{backgroundColor:u(),borderColor:u()}}}const t=()=>{const a=structuredClone(c);a.color==="red"?a.color="blue":a.color="red",o(a)};return e.jsxs(e.Fragment,{children:[e.jsx(E,{title:"Edits"}),e.jsx("div",{id:"end-1",children:e.jsxs("div",{id:"edit-container",style:ie.form,children:[e.jsxs(W,{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"},children:[e.jsx(Q,{variant:"body1",sx:{color:c.color==="red"?F:I,fontFamily:"Montserrat-Normal",fontWeight:"bold",textAlign:"center",width:"100%",marginBottom:"25px"},children:"Recap"}),e.jsx(v,{id:"autoAmp",label:"Auto Amp",sx:n.outline,style:{width:"calc(100% / 8)"},InputLabelProps:{sx:n.themeColor},value:Number.isNaN(c.autoAmp)?"":c.autoAmp,onChange:a=>{const m=structuredClone(c);m.autoAmp=parseInt(a.target.value),o(m)}}),e.jsx(v,{id:"autoSpeaker",label:"Auto Speaker",sx:n.outline,InputLabelProps:{sx:n.themeColor},style:{marginLeft:"10px",marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(c.autoSpeaker)?"":c.autoSpeaker,onChange:a=>{const m=structuredClone(c);m.autoSpeaker=parseInt(a.target.value),o(m)}}),e.jsx(v,{id:"autoMisses",label:"Auto Misses",sx:n.outline,InputLabelProps:{sx:n.themeColor},style:{marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(c.autoMisses)?"":c.autoMisses,onChange:a=>{const m=structuredClone(c);m.autoMisses=parseInt(a.target.value),o(m)}}),e.jsx(v,{id:"teleop Amp",label:"Teleop Amp",InputLabelProps:{sx:n.themeColor},sx:n.outline,style:{width:"calc(100% / 8)"},value:Number.isNaN(c.teleopAmp)?"":c.teleopAmp,onChange:a=>{const m=structuredClone(c);m.teleopAmp=parseInt(a.target.value),o(m)}}),e.jsx(v,{id:"teleopSpeaker",label:"Teleop Speaker",sx:n.outline,InputLabelProps:{sx:n.themeColor},style:{marginLeft:"10px",marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(c.teleopSpeaker)?"":c.teleopSpeaker,onChange:a=>{const m=structuredClone(c);m.teleopSpeaker=parseInt(a.target.value),o(m)}}),e.jsx(v,{id:"teleopShuttle",label:"Teleop Shuttle",sx:n.outline,InputLabelProps:{sx:n.themeColor},style:{width:"calc(100% / 8)"},value:Number.isNaN(c.teleopShuttle)?"":c.teleopShuttle,onChange:a=>{const m=structuredClone(c);m.teleopShuttle=parseInt(a.target.value),o(m)}}),e.jsxs(R,{sx:{width:"calc(100% / 8)",marginLeft:"10px"},children:[e.jsx(A,{id:"climbs",sx:n.themeColor,children:"Climb"}),e.jsxs(z,{label:"climb",labelId:"climbs",style:{color:f.getCurrentThemeData().primary},value:c.teleopClimb,sx:n.outline,onChange:a=>{const m=structuredClone(c);m.teleopClimb=a.target.value,o(m)},children:[e.jsx(D,{value:"",children:"None"}),e.jsx(D,{value:"park",children:"park"}),e.jsx(D,{value:"onstage",children:"onstage"}),e.jsx(D,{value:"harmony",children:"harmony"})]})]})]}),e.jsxs(W,{style:{display:"flex",flexDirection:"row"},children:[e.jsxs(W,{style:{marginRight:"20px"},children:[e.jsx(A,{id:"spotlight",sx:n.themeColor,children:"Spotlight?"}),e.jsxs(te,{"aria-labelledby":"spotlight",value:c.spotlight,children:[e.jsx(O,{value:"true",control:e.jsx(B,{sx:n.outline,onChange:()=>{const a=structuredClone(c);a.spotlight=!0,o(a)}}),label:"yes",checked:c.spotlight===!0}),e.jsx(O,{value:"false",control:e.jsx(B,{sx:n.outline,onChange:()=>{const a=structuredClone(c);a.spotlight=!1,o(a)}}),label:"no",checked:c.spotlight===!1})]})]}),e.jsxs(W,{children:[e.jsx(A,{id:"oof",sx:n.themeColor,children:"Broken?"}),e.jsxs(te,{"aria-labelledby":"oof",value:c.broken,children:[e.jsx(O,{value:"true",control:e.jsx(B,{sx:n.outline,onChange:()=>{const a=structuredClone(c);a.broken=!0,o(a)}}),label:"yes",checked:c.broken===!0}),e.jsx(O,{value:"false",control:e.jsx(B,{sx:n.outline,onChange:()=>{const a=structuredClone(c);a.broken=!1,o(a)}}),label:"no",checked:c.broken===!1})]})]})]}),e.jsxs(W,{style:{display:"flex",flexDirection:"row"},children:[e.jsx(v,{id:"scoutname",label:"Scout Name",InputLabelProps:{sx:n.themeColor},sx:n.outline,onChange:a=>{const m=structuredClone(c);m.scouterName=a.target.value,o(m)},value:c.scouterName}),e.jsx(v,{id:"teamnum",label:"Team Number",sx:n.outline,style:{marginLeft:"10px",marginRight:"10px"},InputLabelProps:{sx:n.themeColor},value:Number.isNaN(c.teamNumber)?"":c.teamNumber,onChange:a=>{const m=structuredClone(c);m.teamNumber=parseInt(a.target.value),o(m)}}),e.jsx(v,{id:"matchnum",label:"Match Number",sx:n.outline,InputLabelProps:{sx:n.themeColor},value:Number.isNaN(c.matchNumber)?"":c.matchNumber,onChange:a=>{const m=structuredClone(c);m.matchNumber=parseInt(a.target.value),o(m)}})]}),e.jsxs(R,{sx:{display:"flex",width:"100%",margin:"auto",flexDirection:"row",justifyContent:"center"},children:[e.jsx(Q,{variant:"body1",sx:{color:c.color==="red"?F:I,fontFamily:"Montserrat-Normal",fontWeight:"bold",width:"150px"},children:"Team Color"}),e.jsx(Be,{checked:c.color==="red",onChange:t})]}),e.jsxs(Pe,{sx:{outlineColor:u()},children:[e.jsx(M,{sx:i(1),variant:b(1),onClick:()=>{const a=structuredClone(c);a.alliancePosition=1,o(a)},children:"One"}),e.jsx(M,{sx:i(2),variant:b(2),onClick:()=>{const a=structuredClone(c);a.alliancePosition=2,o(a)},children:"Two"}),e.jsx(M,{sx:i(3),variant:b(3),onClick:()=>{const a=structuredClone(c);a.alliancePosition=3,o(a)},children:"Three"})]}),e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object.keys(r).map(a=>e.jsxs(R,{sx:{width:`${100/Object.keys(r).length}%`},children:[e.jsx(A,{id:a,sx:n.themeColor,children:a}),e.jsx(z,{style:{color:f.getCurrentThemeData().primary},label:a,sx:n.outline,labelId:a,value:l[a],onChange:m=>{const j=structuredClone(l);j[a]=m.target.value,h(j)},children:r[a].map(m=>e.jsx(D,{value:m,children:m},a))})]}))}),e.jsx(Xe,{placeholder:"More Notes",value:g,onChange:a=>{p(a.target.value)},style:{borderColor:c.color==="red"?F:I,color:f.getCurrentThemeData().primary,backgroundColor:(localStorage.getItem("theme")||"dark")==="dark"?"#333":"white"}}),e.jsxs("div",{style:{color:f.getCurrentThemeData().primary},children:[Object.entries(l).map(a=>a[0]+": "+a[1]).toString(),e.jsx("br",{}),e.jsx("br",{}),g]}),e.jsx(M,{color:"success",variant:"contained",onClick:()=>{const a=structuredClone(c);a.broken=a.broken?"yes":"no",a.spotlight=a.spotlight?"yes":"no",a.autoTaxi=a.autoTaxi?"yes":"no",a.notes=Object.entries(l).map(m=>m[0]+": "+m[1]).toString()+`

`+g,fetch("https://api.steinhq.com/v1/storages/661429064a642363121a7a44/test",{method:"POST",body:JSON.stringify([a]),mode:"cors",headers:{"Content-Type":"application/json"},cache:"no-store"}).then(m=>m.json()).then(async()=>{if(await ze()){K.updateSheetsJson();const j=structuredClone(Fe);j.scouterName=a.scouterName,j.matchNumber=a.matchNumber+1,j.uuid=T(),o(j),d.alert("Yay! We got your data saved."),x(1)}else{const j=re.getInstance();j.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>j.addData("OfflineScouterDataQueue",c))}}).catch(()=>{const m=re.getInstance();m.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>m.addData("OfflineScouterDataQueue",c))})},children:"Submit"})]})})]})},Ht=d=>{const r=d.navigation;y.useEffect(()=>{localStorage.getItem("auth_code")===ke&&r(1)});const s=l=>crypto.subtle.digest("SHA-256",new TextEncoder().encode(l)).then(h=>{const g=[],p=new DataView(h);for(let x=0;x<p.byteLength;x+=4)g.push(("00000000"+p.getUint32(x).toString(16)).slice(-8));return g.join("")});return e.jsxs($,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[e.jsx(E,{title:"What is the air-speed velocity of an unladen swallow?",sx:{fontSize:"1.5em",width:"50%",textAlign:"center"}}),e.jsx(v,{onChange:async l=>{const h=await s(l.target.value);h===ke&&(localStorage.setItem("auth_code",h),r(1))}})]})},Zt=new vt({publicKey:"public_sjGSBBstq6tqeZwNnTDDaMwawW4=",privateKey:"private_dzG/Ko9cGOwJ8EVWkYsqQdCioTM=",urlEndpoint:"https://ik.imagekit.io/vavanu9av/"});let Me,ge=[];class Qt{constructor(){if(Me)throw new Error("You can only create one instance!");Me=this}getInstance(){return this}uploadFile(r,s,l){return new Promise((h,g)=>{Zt.upload({file:r,fileName:`${new Date().getTime()}-${s}.${l.split("/")[1]}`,useUniqueFileName:!1,tags:[`${s}`]},(p,x)=>{p&&g(p),x&&h(x.url)})})}async updateFilesJson(){const r=await K.getPitScouting(),s={};r.forEach(l=>{const h=parseFloat(l[1]);s[h]||(s[h]=[]),s[h].push({url:l[14],author:l[0],title:`A photo of the ${h} robot from the ${Oe} competition`})}),ge=s}getFilesRaw(){return ge}getInstancesByTeamNumber(r){this.updateFilesJson();try{return ge[r]}catch{return[]}}}const je=Object.freeze(new Qt),Xt=d=>{const[r,s]=d.pitSetterGetter,l=d.alert;function h(o,c){const n={...r};n[o]=c,s(n)}function g(o,c){const n={...r};n[o]=c,s(n)}function p(o,c){const n={...r};n[o]=c,s(n)}function x(o){return Number.isNaN(r[o])?"":r[o]}return e.jsxs($,{sx:{width:"100%",display:"flex",flexDirection:window.innerWidth<1e3?"column":"row",flexWrap:"wrap",paddingTop:"50px"},children:[e.jsx(E,{title:"Pit Scouting",sx:{fontSize:"1.5em",width:"100%",textAlign:"center"}}),e.jsxs("div",{id:"column-1",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(v,{InputLabelProps:{sx:{color:f.getCurrentThemeData().primary}},id:"scoutername",label:"Name",onChange:o=>{h("scouterName",o.target.value)},value:r.scouterName}),e.jsx(v,{id:"teamNumber",label:"Team Number",InputLabelProps:{sx:{color:f.getCurrentThemeData().primary}},onChange:o=>{g("teamNum",parseInt(o.target.value))},value:x("teamNum")}),e.jsxs(R,{children:[e.jsx(A,{id:"intake",sx:{color:f.getCurrentThemeData().primary},children:"Intake"}),e.jsx(z,{label:"intake",labelId:"intake",value:r.intake,onChange:o=>h("intake",o.target.value),children:X.intake.map(o=>e.jsx(D,{value:o,children:o},o))})]}),e.jsxs(R,{children:[e.jsx(A,{id:"autoPos",sx:{color:f.getCurrentThemeData().primary},children:"Preferred Auto Position"}),e.jsx(z,{label:"autoPos",labelId:"autoPos",value:r.preferredAutoPos,onChange:o=>h("preferredAutoPos",o.target.value),children:X.preferredAutoPos.map(o=>e.jsx(D,{value:o,children:o},o))})]})]}),e.jsxs("div",{id:"column-2",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsxs(W,{children:[e.jsx(A,{id:"canclimb",sx:{color:f.getCurrentThemeData().primary},children:"Can Climb?"}),e.jsxs(te,{"aria-labelledby":"canclimb",value:r.canClimb,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(O,{value:"true",control:e.jsx(B,{onChange:()=>p("canClimb",!0)}),label:"yes",checked:r.canClimb===!0}),e.jsx(O,{value:"false",control:e.jsx(B,{onChange:()=>{p("canClimb",!1)}}),label:"no",checked:r.canClimb===!1})]})]}),e.jsx(v,{id:"FramePerimeter",label:"Frame Perimeter",InputLabelProps:{sx:{color:f.getCurrentThemeData().primary}},onChange:o=>{g("FramePerimeter",parseInt(o.target.value))},value:x("FramePerimeter")}),e.jsx(v,{id:"weight",label:"weight",InputLabelProps:{sx:{color:f.getCurrentThemeData().primary}},onChange:o=>{g("weight",parseInt(o.target.value))},value:x("weight")}),e.jsxs(W,{children:[e.jsx(A,{id:"canGoUnderChain",sx:{color:f.getCurrentThemeData().primary},children:"Can go under chain?"}),e.jsxs(te,{"aria-labelledby":"canGoUnderChain",value:r.canGoUnderChain,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(O,{value:"true",control:e.jsx(B,{onChange:()=>p("canGoUnderChain",!0)}),label:"yes",checked:r.canGoUnderChain===!0}),e.jsx(O,{value:"false",control:e.jsx(B,{onChange:()=>{p("canClimb",!1)}}),label:"no",checked:r.canGoUnderChain===!1})]})]})]}),e.jsxs("div",{id:"column-3",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(v,{id:"numBatteries",label:"Number of Batteries",InputLabelProps:{sx:{color:f.getCurrentThemeData().primary}},onChange:o=>{g("numBatteries",parseInt(o.target.value))},value:x("numBatteries")}),e.jsx(v,{id:"numBatteryChargers",label:"Number of Battery Chargers",InputLabelProps:{sx:{color:f.getCurrentThemeData().primary}},onChange:o=>{g("numBatteryChargers",parseInt(o.target.value))},value:x("numBatteryChargers")}),e.jsxs(R,{children:[e.jsx(A,{id:"ProgrammingLanguage",sx:{color:f.getCurrentThemeData().primary},children:"Programming Language"}),e.jsx(z,{label:"ProgrammingLanguage",labelId:"ProgrammingLanguage",value:r.ProgrammingLanguage,onChange:o=>h("ProgrammingLanguage",o.target.value),children:X.ProgrammingLanguage.map(o=>e.jsx(D,{value:o,children:o},o))})]}),e.jsxs(R,{children:[e.jsx(A,{id:"driveTrain",sx:{color:f.getCurrentThemeData().primary},children:"Drive Train"}),e.jsx(z,{label:"driveTrain",labelId:"driveTrain",value:r.driveTrain,onChange:o=>h("driveTrain",o.target.value),children:X.driveTrain.map(o=>e.jsx(D,{value:o,children:o},o))})]})]}),e.jsxs("div",{id:"column-4",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(v,{id:"numMotors",label:"Number of Motors",InputLabelProps:{sx:{color:f.getCurrentThemeData().primary}},onChange:o=>{g("numMotors",parseInt(o.target.value))},value:x("numMotors")}),e.jsxs(R,{children:[e.jsx(A,{id:"motorType",children:"Drivetrain Motor Type"}),e.jsx(z,{label:"motorType",labelId:"motorType",value:r.motorType,onChange:o=>h("motorType",o.target.value),children:X.motorType.map(o=>e.jsx(D,{value:o,children:o},o))})]}),e.jsxs(W,{children:[e.jsx(A,{id:"doLocktiteFalcons",sx:{color:f.getCurrentThemeData().primary},children:"Do Falcons have Loctite?"}),e.jsxs(te,{"aria-labelledby":"doLocktiteFalcons",value:r.doLocktiteFalcons,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(O,{value:"true",control:e.jsx(B,{onChange:()=>p("doLocktiteFalcons",!0)}),label:"yes",checked:r.doLocktiteFalcons===!0}),e.jsx(O,{value:"false",control:e.jsx(B,{onChange:()=>{p("doLocktiteFalcons",!1)}}),label:"no",checked:r.doLocktiteFalcons===!1})]})]}),e.jsxs(W,{children:[e.jsx("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",type:"file",onChange:o=>{if(!o.target.files||o.target.files.length===0)return;const c=new FileReader;c.readAsDataURL(o.target.files[0]),c.onload=n=>{var u,b,i;((u=o.target)==null?void 0:u.files)!==null&&je.uploadFile((b=n.target)==null?void 0:b.result,r.teamNum,(i=o.target)==null?void 0:i.files[0].type).then(t=>{h("image",t)})}}}),e.jsx("label",{htmlFor:"raised-button-file",children:e.jsx(M,{variant:"contained",component:"span",sx:{color:(localStorage.getItem("theme")??"dark")==="light"?"black":"white"},children:"Upload robot photo"})}),e.jsx("img",{src:r.image,style:{width:"64px"}})]})]}),e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(M,{color:"success",variant:"contained",onClick:()=>{const o=structuredClone(r);fetch("https://api.steinhq.com/v1/storages/66142af84a642363121a7a83/PitScouting",{method:"POST",body:JSON.stringify([o]),mode:"cors",headers:{"Content-Type":"application/json"},cache:"no-store"}).then(n=>n.json()).then(()=>{l("You submitted a pit scouting report");const n=structuredClone(Le);n.scouterName=o.scouterName,s(n)})},children:"Submit"})})]})};function er(d){const r=d.itemData,s=y.useRef(null);return r?e.jsx("div",{style:{width:"100%"},children:e.jsx("div",{className:"images-container",style:{display:"flex",maxWidth:"500px",width:`calc(128px * ${r.length})`,overflow:"scroll",scrollBehavior:"smooth",transition:"scroll 0.3s ease-in-out",overflowY:"hidden"},ref:s,children:Array.from(r).map(l=>e.jsxs("div",{style:{width:"128px",display:"flex",flexDirection:"column-reverse"},children:[e.jsxs("span",{style:{width:"100%",fontSize:"0.5em",backgroundColor:"GrayText",display:"block",height:"50px"},children:[l.title,e.jsx("br",{}),"-",l.author]},T()),e.jsx("img",{className:"image",alt:"sliderImage",src:l.url,width:"128px"},T())]},T()))})}):e.jsx("div",{})}const tr=()=>{const[d,r]=y.useState("Enter a team number"),[s,l]=y.useState(0),[h,g]=y.useState([]),[p,x]=y.useState([]),[o,c]=y.useState([]);async function n(t){let a=await K.getPitScouting();a=a.filter(m=>m[1]==t.toString()),x(()=>a)}const u=t=>{let a=parseInt(t);return isNaN(a)&&(a=0),a};async function b(){const t=await Ge(s.toString());r(t),c(()=>{const a=K.getInstancesByTeamNum(s.toString());return a.sort((m,j)=>parseInt(m[4])-parseInt(j[4])),a})}const i=async()=>{let t=await je.getInstancesByTeamNumber(s);t||(t=[]);const a=(await _t(s.toString())).map(m=>({url:m,author:"Team "+s.toString(),title:"Photo of the "+s.toString()+" robot"}));try{g(()=>t.concat(a))}catch{console.log("Team Doesn't exist")}};return y.useEffect(()=>{b(),i(),n(s)},[s]),e.jsxs($,{sx:{width:"100%",height:"100%",display:"flex",flexWrap:"wrap",paddingTop:"50px",alignItems:"start",scrollbarWidth:"none",padding:"10px",overflow:"scroll",overflowX:"scroll"},children:[e.jsx(E,{title:"Team Lookup",sx:{fontSize:"1.5em",width:"100%",textAlign:"center"}}),e.jsx(v,{id:"team_lookup",placeholder:"search",sx:{width:"calc(100% - 55px)",margin:"25px"},value:Number.isNaN(s)?"":s,onChange:t=>{l(parseInt(t.target.value))}}),e.jsxs("div",{id:"results",style:{width:"100%"},children:[e.jsx(E,{title:d,sx:{fontSize:"2em"}}),e.jsx(er,{itemData:h})," ",e.jsxs(le,{children:[e.jsx(ce,{children:e.jsx(E,{title:"Pit Scouting",sx:{fontSize:"1em",width:"100%",textAlign:"center"}})}),e.jsx(ue,{children:e.jsxs(oe,{children:[e.jsx(ne,{children:e.jsxs(U,{children:[...It.map(t=>e.jsx(w,{children:t},T()))]})}),e.jsxs(se,{children:[...p.map(t=>{const a=/(https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z]{2,}(\.[a-zA-Z]{2,})(\.[a-zA-Z]{2,})?\/[a-zA-Z0-9]{2,}|((https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z]{2,}(\.[a-zA-Z]{2,})(\.[a-zA-Z]{2,})?)|(https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z0-9]{2,}\.[a-zA-Z0-9]{2,}\.[a-zA-Z0-9]{2,}(\.[a-zA-Z0-9]{2,})?/g;return t.slice(0,-1),e.jsxs(U,{children:[...t.filter(m=>!a.test(m)).map(m=>e.jsx(w,{children:m},T()))]},T())})]})]})})]}),e.jsxs(le,{children:[e.jsx(ce,{children:e.jsx(E,{title:"Match Scouting",sx:{fontSize:"1em",width:"100%",textAlign:"center",flex:"1 1 auto"}})}),e.jsx(ue,{children:e.jsxs(oe,{sx:{},children:[e.jsx(ne,{children:e.jsxs(U,{children:[...Mt.map(t=>e.jsx(w,{children:t},T())),e.jsx(w,{children:"Trap"})]})}),e.jsxs(se,{children:[...o.map(t=>e.jsxs(U,{children:[...t.map(a=>e.jsx(w,{children:a},T())),e.jsx(w,{children:t.length>0&&(()=>{const a=t[t.length-1],m=/Trap[:]? ?\d+/,j=a.match(m),H=(j?j[0]:"").replace(/Trap[:]? ?/,"");return H?e.jsx("p",{children:H}):e.jsx("p",{})})()})]},T()))]})]})})]}),e.jsxs(le,{children:[e.jsx(ce,{children:e.jsx(E,{title:"Analysis",sx:{fontSize:"1em"}})}),e.jsxs(ue,{children:[e.jsxs(oe,{children:[e.jsx(ne,{children:e.jsxs(U,{children:[...["Avg. Auto Pieces","Avg. Auto Amp","Max Auto Amp","Avg. Auto Speaker","Max Auto Speaker"].map(t=>e.jsx(w,{children:t},T()))]})}),e.jsx(se,{children:e.jsxs(U,{children:[e.jsx(w,{children:(o.map(t=>u(t[6])+u(t[7])).reduce((t,a)=>t+a,0)/o.length).toFixed(2)}),e.jsx(w,{children:(o.map(t=>u(t[6])).reduce((t,a)=>t+a,0)/o.length).toFixed(2)}),e.jsx(w,{children:Math.max(...o.map(t=>u(t[6])))}),e.jsx(w,{children:(o.map(t=>u(t[7])).reduce((t,a)=>t+a,0)/o.length).toFixed(2)}),e.jsx(w,{children:Math.max(...o.map(t=>u(t[7])))})]})})]}),e.jsxs(oe,{children:[e.jsx(ne,{children:e.jsxs(U,{children:[...["Avg. Telop Pieces","Avg. Telop Amp","Max Telop Amp","Avg. Telop Speaker","Max Telop Speaker","Avg. Telop Shuttle","Max Telop Shuttle"].map(t=>e.jsx(w,{children:t},T()))]})}),e.jsx(se,{children:e.jsxs(U,{children:[e.jsx(w,{children:(o.map(t=>u(t[9])+u(t[10])).reduce((t,a)=>t+a,0)/o.length).toFixed(2)}),e.jsx(w,{children:(o.map(t=>u(t[9])).reduce((t,a)=>t+a,0)/o.length).toFixed(2)}),e.jsx(w,{children:Math.max(...o.map(t=>u(t[9])))}),e.jsx(w,{children:(o.map(t=>u(t[10])).reduce((t,a)=>t+a,0)/o.length).toFixed(2)}),e.jsx(w,{children:Math.max(...o.map(t=>u(t[10])))}),e.jsx(w,{children:(o.map(t=>u(t[11])).reduce((t,a)=>t+a,0)/o.length).toFixed(2)}),e.jsx(w,{children:Math.max(...o.map(t=>u(t[11])))})]})})]}),o.length>0?e.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"500px"},children:[e.jsx("h3",{style:{marginLeft:"auto",marginRight:"auto"},children:"Auto Pieces"}),e.jsxs(Ce,{title:"Auto",sx:{width:"100%"},colors:ve,yAxis:[{id:"notes"}],xAxis:[{scaleType:"band",data:o.map(t=>"M. "+t[4]),id:"xAxis"}],series:[{label:"Auto Amp",data:o.map(t=>u(t[6])),type:"bar"},{label:"Auto Speaker",data:o.map(t=>u(t[7])),type:"bar"},{label:"Auto Notes",data:o.map(t=>u(t[6])+u(t[7])),type:"line",curve:"linear"}],width:500,height:300,children:[e.jsx(we,{}),e.jsx(Se,{}),e.jsx(xe,{label:"Match #",position:"bottom",axisId:"xAxis"}),e.jsx(fe,{label:"Notes",position:"left",axisId:"notes"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"500px"},children:[e.jsx("h3",{style:{marginLeft:"auto",marginRight:"auto"},children:"Teleop Pieces"}),e.jsxs(Ce,{title:"Teleop",sx:{width:"100%"},colors:ve,yAxis:[{id:"notes"}],xAxis:[{scaleType:"band",data:o.map(t=>"M. "+t[4]),id:"xAxis"}],series:[{label:"Teleop Amp",data:o.map(t=>u(t[9])),type:"bar"},{label:"Teleop Speaker",data:o.map(t=>u(t[10])),type:"bar"},{label:"Teleop Shuttle",data:o.map(t=>u(t[11])),type:"bar"},{label:"Auto Notes",data:o.map(t=>u(t[9])+u(t[10])),type:"line",curve:"linear"}],width:500,height:300,children:[e.jsx(we,{}),e.jsx(Se,{}),e.jsx(xe,{label:"Match #",position:"bottom",axisId:"xAxis"}),e.jsx(fe,{label:"Notes",position:"left",axisId:"notes"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"500px"},children:[e.jsx("h3",{style:{marginLeft:"auto",marginRight:"auto"},children:"End Climb"}),e.jsx(et,{slotProps:{legend:{hidden:!0}},xAxis:[{scaleType:"band",data:o.map(t=>"M. "+t[4])}],yAxis:[{tickInterval:t=>t===1||t===2||t===3,valueFormatter:t=>t===1?"ðŸ…¿ï¸":t===2?"ðŸªœ":t===3?"ðŸŽ¶":""}],width:500,height:300,series:[{data:o.map(t=>{const a=t[12];return a==="park"?1:a==="onstage"?2:a==="harmony"?3:0})}]})]})]}):""]})]}),e.jsx("br",{})," ",e.jsx("br",{})," ",e.jsx("br",{})]})]})},rr=()=>{const[d,r]=y.useState([]),[s,l]=y.useState([]),[h,g]=y.useState("Average Notes Auto"),[p,x]=y.useState("Average Notes Auto"),o=window.innerWidth,c=["#808080","#c0c0c0","#2f4f4f","#556b2f","#8b4513","#6b8e23","#a52a2a","#2e8b57","#006400","#483d8b","#b8860b","#008b8b","#4682b4","#000080","#d2691e","#9acd32","#32cd32","#7f007f","#8fbc8f","#b03060","#ff4500","#00ced1","#ffa500","#ffd700","#deb887","#00ff00","#9400d3","#00fa9a","#4169e1","#dc143c","#00bfff","#f4a460","#0000ff","#f08080","#adff2f","#ff6347","#ff00ff","#f0e68c","#ffff54","#6495ed","#dda0dd","#87ceeb","#ff1493","#ee82ee","#98fb98","#7fffd4","#fafad2","#ff69b4","#e0ffff","#ffb6c1"],n=i=>{const t=parseInt(i);return isNaN(t)?0:t};y.useEffect(()=>{async function i(){const t=await K.getAsyncData();r(()=>t)}i()},[h,p]);const u={"Average Notes Auto":[[6,7],i=>i.reduce((t,a)=>t+n(a[0])+n(a[1]),0)/i.length],"Max Auto Notes":[[6,7],i=>Math.max(...i.map(t=>n(t[0])+n(t[1])))],"Average Amp Notes Auto":[[6],i=>i.reduce((t,a)=>t+n(a[0]),0)/i.length],"Average Speaker Notes Auto":[[7],i=>i.reduce((t,a)=>t+n(a[0]),0)/i.length],"Max Speaker Auto":[[7],i=>Math.max(...i.map(t=>n(t[0])))],"Max Amp Auto":[[6],i=>Math.max(...i.map(t=>n(t[0])))],"Average Notes Teleop":[[9,10],i=>i.reduce((t,a)=>t+n(a[0])+n(a[1]),0)/i.length],"Average Amp Notes Teleop":[[9],i=>i.reduce((t,a)=>t+n(a[0]),0)/i.length],"Max Amp Teleop":[[9],i=>Math.max(...i.map(t=>n(t[0])))],"Average Speaker Notes Teleop":[[10],i=>i.reduce((t,a)=>t+n(a[0]),0)/i.length],"Max Speaker Teleop":[[10],i=>Math.max(...i.map(t=>n(t[0])))],"Average Shuttle Notes Teleop":[[10],i=>i.reduce((t,a)=>t+n(a[0]),0)/i.length],"Max Shuttle Teleop":[[11],i=>Math.max(...i.map(t=>n(t[0])))],"Average Climb Points":[[12,14],i=>i.map(t=>t[0]==="none"?0:t[0]==="park"?1:t[0]==="onstage"||t[1]==="no"?3:t[0]==="onstage"||t[1]==="yes"?4:t[0]==="harmony"||t[1]==="no"?5:t[0]==="harmony"||t[1]==="yes"?6:0).reduce((t,a)=>t+a,0)/i.length],"Max Climb Points":[[12,14],i=>Math.max(...i.map(t=>t[0]==="none"?0:t[0]==="park"?1:t[0]==="onstage"||t[1]==="no"?3:t[0]==="onstage"||t[1]==="yes"?4:t[0]==="harmony"||t[1]==="no"?5:t[0]==="harmony"||t[1]==="yes"?6:0))]};y.useEffect(()=>{const i=()=>d?d.length===0?[]:Array.from(new Set(d.map(t=>n(t[3])))):[];l(()=>i())},[d]);const b=(i,t)=>{if(d.length===0||!(t in u))return 0;const a=d.filter(Y=>n(Y[3])===i),m=u[t][0],j=a.map(Y=>m.map(H=>Y[H]));return u[t][1](j)};return e.jsxs($,{sx:{width:"100%",height:"100%",display:"flex",flexWrap:"wrap",paddingTop:"50px",alignItems:"start",scrollbarWidth:"none",padding:"10px",overflow:"scroll",overflowX:"scroll"},children:[e.jsxs(tt,{colors:c,width:o,height:500,sx:{marginBottom:0},series:s.map(i=>({label:i.toString(),data:[{x:parseFloat(b(i,h).toFixed(2)),y:parseFloat(b(i,p).toFixed(2)),id:i}]})),slotProps:{legend:{labelStyle:{display:"none"},itemMarkHeight:0,itemMarkWidth:0}},yAxis:[{id:"leftAxis"}],xAxis:[{id:"bottomAxis"}],children:[e.jsx(fe,{axisId:"leftAxis",position:"left",label:p}),e.jsx(xe,{axisId:"bottomAxis",position:"bottom",label:h})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",rowGap:"2px"},children:[...s.map((i,t)=>e.jsxs("div",{style:{display:"flex",padding:"5px"},children:[e.jsx("div",{style:{display:"inline-block",width:"20px",height:"20px",backgroundColor:c[t%c.length],marginRight:"10px"}}),e.jsx(Q,{variant:"caption",sx:{color:f.getCurrentThemeData().primary},children:i})]}))]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"100%"},children:[e.jsxs(R,{sx:{width:"50%"},children:[e.jsx(A,{id:"xAxis",sx:{color:f.getCurrentThemeData().primary},children:"X Axis"}),e.jsxs(z,{sx:{color:f.getCurrentThemeData().primary},label:"X Axis",labelId:"xAxis",onChange:i=>{g(()=>i.target.value)},value:h,children:[...Object.keys(u).map(i=>e.jsx(D,{value:i,children:i}))]})]}),e.jsxs(R,{sx:{width:"50%"},children:[e.jsx(A,{id:"yAxis",sx:{color:f.getCurrentThemeData().primary},children:"Y Axis"}),e.jsxs(z,{sx:{color:f.getCurrentThemeData().primary},label:"Y Axis",labelId:"yAxis",onChange:i=>{x(()=>i.target.value)},value:p,children:[...Object.keys(u).map(i=>e.jsx(D,{value:i,children:i}))]})]})]}),e.jsx("br",{})," ",e.jsx("br",{})," ",e.jsx("br",{})," ",e.jsx("br",{})]})},ar=()=>{const d={"Max (ALL)":n=>Math.max(...n.map(u=>x(u[6])+x(u[7])+x(u[9])+x(u[10])+x(u[11]),0)),"Max (shuttle)":n=>Math.max(...n.map(u=>x(u[11]))),"Max (amp)":n=>Math.max(...n.map(u=>x(u[9]))),"Max (speaker)":n=>Math.max(...n.map(u=>x(u[10]))),"Average notes scored (total)":n=>n.reduce((u,b)=>u+(x(b[6])+x(b[7])+x(b[9])+x(b[10])+x(b[11])),0)/n.length,"Average notes scored (Auto)":n=>n.reduce((u,b)=>u+(x(b[6])+x(b[7])),0)/n.length,"Average notes scored (Teleop)":n=>n.reduce((u,b)=>u+(x(b[9])+x(b[10])+x(b[11])),0)/n.length,"Average Amp (Auto)":n=>n.reduce((u,b)=>u+x(b[6]),0)/n.length,"Average Speaker (Auto)":n=>n.reduce((u,b)=>u+x(b[7]),0)/n.length,"Average Amp (Teleop)":n=>n.reduce((u,b)=>u+x(b[9]),0)/n.length,"Average Speaker (Teleop)":n=>n.reduce((u,b)=>u+x(b[10]),0)/n.length,"Average Shuttle":n=>n.reduce((u,b)=>u+x(b[11]),0)/n.length},[r,s]=y.useState([]),[l,h]=y.useState([]),[g,p]=y.useState([]),x=n=>{const u=parseInt(n);return isNaN(u)?0:u};async function o(){const n=await K.getAsyncData();s(()=>n)}const c=(n,u)=>{if(r){if(r.length===0||!(u in d))return 0;const b=r.filter(i=>parseInt(i[3])===n);return d[u](b)}};return y.useEffect(()=>{o()},[]),y.useEffect(()=>{const n=()=>r?r.length===0?[]:Array.from(new Set(r.map(u=>parseInt(u[3])))).filter(u=>!isNaN(u)):[];h(()=>n())},[r]),y.useEffect(()=>{p(l.map(n=>{const u={id:n,teamnum:n};return Object.keys(d).forEach(b=>{u[b]=c(n,b)}),u}))},[l]),e.jsx($,{sx:{width:"100%",height:"100%",display:"flex",WebkitAlignItems:"center",paddingTop:"50px",alignItems:"start",scrollbarWidth:"none",padding:"10px",overflow:"scroll",overflowX:"scroll"},children:e.jsx(rt,{rows:g,columns:[{field:"teamnum",headerName:"Team #",width:250},...Object.keys(d).map(n=>({field:n,headerName:n,width:250,valueFormatter:u=>isNaN(u)?"":u.toFixed(2)}))],pageSizeOptions:[5,10,20,50,100],sx:{height:"90%",color:f.getCurrentThemeData().primary}})})},N={0:"/",1:"/info",2:"/auto",3:"/teleop",4:"/endscreen1",6:"/pit-scouting",7:"/lookup",8:"/graphs",9:"/leaderboard"};function or(){const[d,r]=y.useState(!1),[s,l]=y.useState(""),[h,g]=y.useState(!1),[p,x]=y.useState(he(localStorage.getItem("theme")??"dark")),[o,c]=y.useState(f.themesList.indexOf(localStorage.getItem("customtheme")??"none"));f.setThemeId(localStorage.getItem("customtheme")??"none");const[n,u]=y.useState(1),b=y.useState(Fe),i=y.useState(Le),t=re.getInstance(),a=wt();async function m(){if(d)return;r(!0),P("You are now online"),await ze()?t.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>{t.readAllData("OfflineScouterDataQueue").then(Z=>{Z.length!==0&&fetch("https://api.steinhq.com/v1/storages/661429064a642363121a7a44/test",{method:"POST",body:JSON.stringify(Z),headers:{"Content-Type":"application/json"},cache:"no-store"}).then(()=>{P(`Uploaded ${Z.length} matches that were saved offline`),t.deleteAllData("OfflineScouterDataQueue")})})}):(r(!1),P("You think you are online, but you are not connected to the internet"))}function j(){P("You are now offline (matches will be saved locally until you reconnect)"),r(!1)}y.useEffect(()=>{const S=()=>{be.updateJSON(),window.removeEventListener("load",S,!0),r(navigator.onLine),navigator.onLine||j(),window.addEventListener("online",m),window.addEventListener("offline",j)};window.addEventListener("load",S,{once:!0})},[m,j]),y.useEffect(()=>{je.updateFilesJson(),K.updateSheetsJson()},[b[0].scouterName]),y.useEffect(()=>{be.updateJSON()},[b[0].matchNumber]);const Y=()=>{c((o+1)%f.themesList.length),f.setThemeId(f.themesList[(o+1)%f.themesList.length]),localStorage.setItem("customtheme",f.themesList[(o+1)%f.themesList.length])},H=()=>{const S=p.palette.mode==="dark"?he("light"):he("dark");x(S),localStorage.setItem("theme",S.palette.mode)},k=S=>{N[S]&&(u(S),a(N[S],{replace:!0}))},$e=()=>{g(!1)},P=S=>{g(!0),l(S)},Ue=()=>{const S=f.getThemeId(),Z={alpine:e.jsx(xt,{}),ocean:e.jsx(ft,{}),desert:e.jsx(bt,{}),lavender:e.jsx(yt,{}),volcano:e.jsx(jt,{}),sunset:e.jsx(Ct,{}),none:e.jsx(Ae,{})};return S in Z?Z[S]:e.jsx(Ae,{})};return e.jsx(e.Fragment,{children:e.jsx($,{sx:{width:"100vw",height:"100vh"},children:e.jsx(at,{children:e.jsx(ot,{theme:p,children:e.jsxs($,{sx:{width:"100%",height:"100%",backgroundColor:S=>S.palette.mode==="light"?S.palette.grey[100]:S.palette.grey[900]},children:[e.jsx(G,{style:{color:f.getCurrentThemeData().primary},"aria-label":"Home",sx:{position:"fixed",top:"0px",left:"0px"},onClick:()=>{k(1)},children:e.jsx(nt,{})}),e.jsxs(St,{children:[e.jsx(_,{path:N[0],element:e.jsx(Ht,{navigation:k,scoutingSetterGetter:b,alert:P})}),e.jsx(_,{path:N[1],element:e.jsx(Kt,{navigation:k,scoutingSetterGetter:b,alert:P})}),e.jsx(_,{path:N[2],element:e.jsx(Vt,{navigation:k,scoutingSetterGetter:b,alert:P})}),e.jsx(_,{path:N[3],element:e.jsx(qt,{navigation:k,scoutingSetterGetter:b,alert:P})}),e.jsx(_,{path:N[4],element:e.jsx(Yt,{navigation:k,scoutingSetterGetter:b,alert:P})}),e.jsx(_,{path:N[6],element:e.jsx(Xt,{pitSetterGetter:i,alert:P})}),e.jsx(_,{path:N[7],element:e.jsx(tr,{})}),e.jsx(_,{path:N[8],element:e.jsx(rr,{})}),e.jsx(_,{path:N[9],element:e.jsx(ar,{})})]}),e.jsx("div",{id:"notifications",children:e.jsx(st,{open:h,autoHideDuration:1e4,onClose:$e,children:e.jsx(it,{message:s,sx:{backgroundColor:p.palette.mode==="light"?p.palette.grey[100]:p.palette.grey[900],color:p.palette.mode==="light"?p.palette.grey[900]:p.palette.grey[100]}})})}),e.jsxs("div",{id:"themeToggle",style:{position:"fixed",bottom:"20px",left:"20px"},children:[e.jsx(G,{"aria-label":"Theme Selector",onClick:Y,title:"theme selector",style:{color:f.getCurrentThemeData().primary},children:Ue()}),e.jsx(G,{"aria-label":"Color Mode",onClick:H,title:"dark mode",style:{color:f.getCurrentThemeData().primary},children:p.palette.mode==="dark"?e.jsx(lt,{}):e.jsx(ct,{})}),e.jsx(G,{"aria-label":"Pit Scouting",style:{color:f.getCurrentThemeData().primary},onClick:()=>{k(6)},title:"Pit Scouting",children:e.jsx(ut,{})}),e.jsx(G,{"aria-label":"Team Search",style:{color:f.getCurrentThemeData().primary},onClick:()=>{k(7)},title:"search teams",children:e.jsx(dt,{})}),e.jsx(G,{"aria-label":"Graph",style:{color:f.getCurrentThemeData().primary},onClick:()=>{k(8)},title:"Graph View",children:e.jsx(ht,{})}),e.jsx(G,{"aria-label":"Leaderboard",title:"Leaderboard",style:{color:f.getCurrentThemeData().primary},onClick:()=>{k(9)},children:e.jsx(pt,{})})]}),e.jsxs("div",{id:"themeToggle",style:{position:"fixed",bottom:"20px",right:"20px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"10px"},children:[e.jsx(G,{"aria-label":"Back 1 page",style:{color:f.getCurrentThemeData().primary},onClick:()=>{k(n-1)},children:e.jsx(mt,{})}),e.jsx(G,{"aria-label":"Forward 1 page",style:{color:f.getCurrentThemeData().primary},onClick:()=>{k(n+1)},children:e.jsx(gt,{})})]})]})})})})})}qe.createRoot(document.getElementById("root")).render(e.jsx(Ve.StrictMode,{children:e.jsxs(At,{children:[e.jsx(or,{})," "]})}));
