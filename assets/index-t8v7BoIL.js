var $e=Object.defineProperty;var Ue=(u,r,n)=>r in u?$e(u,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[r]=n;var te=(u,r,n)=>(Ue(u,typeof r!="symbol"?r+"":r,n),n);import{j as e,r as f,a as Je}from"./react-rKaTJ6rC.js";import{c as Ke}from"./react-dom-6aGZtuvN.js";import{c as Ve,s as Ye,S as qe,T as H,B as He,M as j,a as De,b as M,d as z,F as _,e as W,f as A,g as J,h as D,R as Q,i as O,j as B,k as Xe,A as ie,l as le,m as ce,n as ae,o as re,p as $,q as C,r as ne,C as je,t as ve,u as Ce,L as we,v as ge,w as xe,x as Ze,y as Qe,D as et,z as tt,E as at,I as E,H as rt,G as nt,J as ot,K as st,N as it,W as lt,O as ct,P as dt,Q as ut,U as ht,V as pt,X as mt,Y as gt,Z as xt,_ as ft,$ as bt}from"./@mui-8rZf7-yI.js";import{v as T}from"./uuid-yQnnJER4.js";import{I as yt}from"./imagekit-IXdsfQA1.js";import{u as jt,a as vt,b as G}from"./react-router-Qfa4vrje.js";import{B as Ct}from"./react-router-dom-RWL_fUCn.js";import"./@babel-1eI3ubiv.js";import"./scheduler-iwWdm5Ml.js";import"./@emotion-MmGlNCCc.js";import"./hoist-non-react-statics-ruMgn741.js";import"./stylis-UTZzoVRx.js";import"./react-is-q81m-9gd.js";import"./clsx-Zbgk8kpT.js";import"./react-transition-group-am-CiPuM.js";import"./@react-spring-WSCnDrwI.js";import"./d3-color-0OvjxriG.js";import"./d3-interpolate-E_NIlnYy.js";import"./d3-shape-JTn4KTFh.js";import"./d3-path-B_10WkFA.js";import"./d3-scale-aMHsSRTu.js";import"./internmap-Ts8DYYQa.js";import"./d3-array-wUFzFig2.js";import"./d3-format-9E78v3lr.js";import"./d3-time-format-0imObhOF.js";import"./d3-time-xXQrfqad.js";import"./d3-delaunay-aCXE4wJG.js";import"./delaunator-IGifLgEt.js";import"./robust-predicates-cFBOqhuN.js";import"./prop-types-i7IregA9.js";import"./reselect-SnMqv3yZ.js";import"./@popperjs-zyV4rJhQ.js";import"./lodash-Xr53mQ-n.js";import"./axios-d3lcUOYg.js";import"./hamming-distance-_tY3BPi_.js";import"./form-data-QPNVk4j9.js";import"./@remix-run-w2aNq8l3.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))t(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&t(h)}).observe(document,{childList:!0,subtree:!0});function n(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function t(d){if(d.ep)return;d.ep=!0;const m=n(d);fetch(d.href,m)}})();const wt={none:{primary:"#696969",secondary:"#696969"},alpine:{primary:"#32ab64",secondary:"#5a9e76"},ocean:{primary:"#4852c7",secondary:"#364c87"},desert:{primary:"#b6bd5e",secondary:"#a1a662"},lavender:{primary:"#a33abd",secondary:"#993eb0"}},St=["none","alpine","ocean","desert","lavender"];let Se,de="none";class At{constructor(){te(this,"themesList",St);if(Se)throw new Error("You can only create one instance!");Se=this}getInstance(){return this}getCurrentThemeData(){return wt[de]}setThemeId(r){de=r}getThemeId(){return de}}const b=Object.freeze(new At),y={main:{primary:b.getCurrentThemeData().primary,2:b.getCurrentThemeData().primary,1:b.getCurrentThemeData().primary,0:"#414141"},black:{primary:"#151515",2:"#666",1:"#333",0:"#0A0A0A"},white:{primary:"#FFF",1:"#EEE",0:"#CCC"}},Tt=u=>({palette:{mode:u,...u==="light"?{primary:{main:y.main[2]},text:{primary:y.black[0],secondary:y.black[2],tertiary:y.main[1]}}:{primary:{main:y.main[1]},background:{default:y.black[1],paper:y.black.primary},text:{primary:y.white[1],secondary:y.white[0],tertiary:y.main[1]}}},components:{MuiAppBar:{styleOverrides:{colorPrimary:{backgroundColor:y.main[2],color:y.white.primary}}},MuiInputLabel:{styleOverrides:{root:{color:u==="light"?y.black[1]:y.white[1]}}},MuiInputBase:{styleOverrides:{root:{input:{height:"auto"}}}},MuiFormControlLabel:{styleOverrides:{root:{color:u==="light"?y.black[1]:y.white[1]}}},MuiOutlinedInput:{styleOverrides:{root:{fieldset:{borderColor:u==="light"?y.black[1]:y.white[1]}}}},MuiToolbar:{styleOverrides:{root:{backgroundColor:`${u==="light"?y.main[2]:y.black.primary} !important`}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:`${u==="light"?y.white[0]:y.black[0]} !important`}}}},typography:{fontFamily:"HelveticaNeueLight, sans-serif",fontWeightRegular:400},overrides:{MuiTypography:{styleOverrides:{root:{letterSpacing:"0.05em"}}},MuiCssBaseline:{"@global":{"@font-face":{fontFamily:"HelveticaNeueLight",fontStyle:"normal",fontWeight:400,src:`
          local('HelveticaNeueLight'),
          url(./fonts/HelveticaNeue-Light.otf) format('opentype')
        `}}},MuiAccordion:{root:{"&$expanded":{margin:"auto"}}},MuiAccordionSummary:{content:{"&$expanded":{margin:"12px 0"}}},MuiAccordionDetails:{root:{padding:16}}}}),ue=u=>Ve(Tt(u)),oe={pageContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",gap:"100px",overflowY:"scroll"},form:{width:"100%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem"},teamSwitch:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"20px"}},L="#821C1E",N="#3f51b5",Me={scouterName:"",teamNum:0,intake:"",preferredAutoPos:"",canClimb:!1,FramePerimeter:0,weight:0,canGoUnderChain:!1,numBatteries:0,numBatteryChargers:0,ProgrammingLanguage:"",driveTrain:"",numMotors:0,motorType:"",image:"https://placehold.co/400x400?text=upload%20image",doLocktiteFalcons:!1},kt=["Scouter Name","Team #","Intake Positions","Preferred Starting Position","Can Climb","Frame Perimeter","Weight","Under Chain","# of Batteries","# of Chargers","Programming Language","Drive Train","# of Motors","Are Falcons loctited"],Z={intake:["ground","station","both","none"],preferredAutoPos:["don't care","1","2","3"],ProgrammingLanguage:["Java","C++","LabVIEW","Python"],driveTrain:["West Coast Drive","Swerve Drive","2-Wheel Drive","4-Wheel Drive","Other 6-Wheel Drive","Car Drive","H-Drive","Holonomic Drive","Mecanum Drive","other"],motorType:["Talon-500 Motor","NEO motor","NEO 550 motor","Kraken Motor","Jaguar Motor","Venom Motor","Nidec Dynamo BLDC Motor","other"]},It=["Scouter Name","Alliance Color","Alliance Position","Team Number","match Number","auto Taxi","auto Amp","Auto Speaker","auto Misses","teleop Amp","teleop Speaker","teleop Trap","Teleop Climb","broken","spotlight","notes"],Pe={uuid:T(),scouterName:"",color:"red",alliancePosition:1,teamNumber:NaN,matchNumber:NaN,autoTaxi:!1,autoAmp:0,autoSpeaker:0,autoMisses:0,teleopAmp:0,teleopSpeaker:0,teleopTrap:0,teleopClimb:"",broken:!1,spotlight:!1,notes:""},Nt=15,Dt=135,Ae="3bf14c94cacb7b7bf51ecc306f3dad088a839ec16a99bdec3e4f2bbf6831c544",Fe="2024cmptx",Le=Ye(u=>e.jsx(qe,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...u}))(({theme:u})=>({width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:L,opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:N,border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:u.palette.mode==="light"?u.palette.grey[100]:u.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:u.palette.mode==="light"?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:26/2,backgroundColor:N,opacity:1,transition:u.transitions.create(["background-color"],{duration:500})}})),Mt={appNameContainer:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"end",gap:"20px"}},R=({title:u,children:r,sx:n={},hover:t=""})=>e.jsxs("div",{style:Mt.appNameContainer,children:[e.jsx(H,{variant:"h1",title:t,sx:Object.assign({},{color:b.getCurrentThemeData().primary,fontFamily:"Lexend",fontWeight:"bold",textTransform:"uppercase",paddingTop:"0px",marginTop:"0px",fontSize:"4em"},n),children:u}),r]}),Oe="1v7rt_tRsWAKDxGMnfeCTZNCB9mOycKVb5izpzJTe07Y",Pt="AIzaSyCtpEW-xu38_uBirzfKie_rsGpfkhlaaiY",Ft="test",Lt="A2:Z5000",Te=`https://sheets.googleapis.com/v4/spreadsheets/${Oe}/values/${Ft}!${Lt}?key=${Pt}`;let ke,U;class Ot{constructor(){if(ke)throw new Error("You can only create one instance!");ke=this}getInstance(){return this}async getPitScouting(){return new Promise((r,n)=>{fetch(Te.replace(Oe,"1Em2CmfPw0XNbrP0T7f42goERnDkcGvJqQq5vJJb7GuI").replace("test","PitScouting")).then(t=>t.json()).then(t=>r(t.values)).catch(t=>n(t))})}updateSheetsJson(){fetch(Te).then(r=>r.json()).then(r=>U=r.values).catch(()=>{})}getSheetsRaw(){return this.updateSheetsJson(),U}async getAsyncData(){return U||await this.updateSheetsJson(),U}getInstancesByName(r){return U?U.filter(n=>n[0]===r).length:0}getInstancesByTeamNum(r){return U?U.filter(n=>n[3]===r):[]}}const V=Object.freeze(new Ot),be="H19M5A4ypIJMbzipmH6lZt0U38K5XihV9m6PpQi5cq2VRuUp84omcFbc3iRPDDiQ",Bt="https://www.thebluealliance.com/api/v3/team/frc",Be="https://www.thebluealliance.com/api/v3/team/frc{team}/media/"+new Date().getFullYear();async function Re(u){if(isNaN(parseFloat(u)))return"";try{return(await(await fetch(Bt+u,{cache:"force-cache",headers:{"X-TBA-Auth-Key":be}})).json()).nickname}catch{return""}}async function Rt(u){if(isNaN(parseFloat(u)))return[];try{const n=await(await fetch(Be.replace("{team}",u),{cache:"force-cache",headers:{"X-TBA-Auth-Key":be}})).json();if(n.length===0)return[];let t=[];return n.forEach(d=>{d.type!=="instagram-image"&&(d.direct_url!==""&&t.push(d.direct_url),{}.propertyIsEnumerable.call(d.details,"base64Image")&&t.push("data:image/png;base64,"+d.details.base64Image))}),t}catch{return[]}}async function Et(u){if(isNaN(parseFloat(u)))return"";try{const n=await(await fetch(Be.replace("{team}",u),{cache:"force-cache",headers:{"X-TBA-Auth-Key":be}})).json();if(n.length===0)return"";let t="";return n.forEach(d=>{d.type!=="instagram-image"&&(d.direct_url!==""&&(t=d.direct_url),{}.propertyIsEnumerable.call(d.details,"base64Image")&&(t="data:image/png;base64,"+d.details.base64Image))}),t}catch{return""}}const Gt=({url:u,width:r})=>e.jsx("img",{src:u,width:r}),_t="H19M5A4ypIJMbzipmH6lZt0U38K5XihV9m6PpQi5cq2VRuUp84omcFbc3iRPDDiQ";let Ie;const Wt=`https://www.thebluealliance.com/api/v3/event/${Fe}/matches`;let F=[];class zt{constructor(){if(Ie)throw new Error("You can only create one instance!");Ie=this}getInstance(){return this}getData(){return F}getDataByMatch(r){for(let n=0;n<F.length;n++)if(F[n].match_number===r)return F[n]}getDataByTeamNumber(r){var t,d;const n=[];for(let m=0;m<F.length;m++)return F[m].alliances&&((t=F[m].alliances)!=null&&t.blue.team_keys.includes(`frc${r}`)||(d=F[m].alliances)!=null&&d.blue.team_keys.includes(`frc${r}`))&&n.push(F[m]),n}updateJSON(){fetch(Wt,{headers:{"X-TBA-Auth-Key":_t}}).then(r=>r.json()).then(r=>{const n=[];for(let t=0;t<r.length;t++){const d=r[t];n.push(d)}F=n})}}const fe=Object.freeze(new zt),$t=u=>{const r=u.scoutingSetterGetter[1],[n,t]=f.useState(""),[d,m]=f.useState(""),h=u.scoutingSetterGetter[0],g=()=>{const l=fe.getDataByMatch(h.matchNumber),a=h.color,x=h.alliancePosition-1;if(!(l!=null&&l.alliances))return;const v=l==null?void 0:l.alliances[a].team_keys[x],S=structuredClone(h);S.teamNumber=parseInt(v.replace("frc","")),r(S)};f.useEffect(()=>{g()},[h.matchNumber,h.alliancePosition,h.color]),f.useEffect(()=>{async function l(){t(await Re(h.teamNumber))}async function a(){isNaN(h.teamNumber)||m(await Et(h.teamNumber))}m(""),l(),a()},[h.teamNumber]);const s=u.navigation;function i(){return h.color==="red"?L:N}function o(l){return h.alliancePosition==l?"contained":"outlined"}function p(l){return o(l)=="contained"?{backgroundColor:i(),borderColor:i(),"&:hover":{backgroundColor:i(),borderColor:i()},"&:active":{backgroundColor:i(),borderColor:i()}}:{color:i(),borderColor:i(),"&:hover":{backgroundColor:i(),borderColor:i()},"&:active":{backgroundColor:i(),borderColor:i()}}}const c=()=>{const l=structuredClone(h);l.color==="red"?l.color="blue":l.color="red",r(l)};return e.jsxs("div",{style:oe.pageContainer,children:[e.jsx(R,{title:"Falcon",children:e.jsx(H,{variant:"h2",sx:{color:"#CA3E47",fontFamily:"Montserrat-Normal",fontWeight:"bold",position:"absolute",top:"1em",left:"50%"},children:"Scouting"})}),e.jsxs("div",{style:oe.form,children:[e.jsx(He,{badgeContent:V.getInstancesByName(h.scouterName),color:"primary",children:e.jsx(j,{label:"Scout Name",variant:"filled",onChange:l=>{const a=structuredClone(h);a.scouterName=l.target.value,r(a)},value:h.scouterName})}),e.jsx(j,{label:"Team Number",variant:"filled",type:"number",helperText:n,value:Number.isNaN(h.teamNumber)?"":h.teamNumber,onChange:l=>{const a=structuredClone(h);a.teamNumber=parseInt(l.target.value),r(a)}}),e.jsx(Gt,{url:d,width:128,height:128}),e.jsx(j,{label:"Match Number",variant:"filled",type:"number",value:Number.isNaN(h.matchNumber)?"":h.matchNumber,onChange:l=>{const a=structuredClone(h);a.matchNumber=parseInt(l.target.value),r(a)}}),e.jsxs("div",{style:oe.teamSwitch,children:[e.jsx(H,{variant:"body1",sx:{color:i(),fontFamily:"Montserrat-Normal",fontWeight:"bold"},children:"Team Color"}),e.jsx(Le,{checked:h.color==="red",onChange:c})]}),e.jsxs(De,{sx:{outlineColor:i()},children:[e.jsx(M,{sx:p(1),variant:o(1),onClick:()=>{const l=structuredClone(h);l.alliancePosition=1,r(l)},children:"One"}),e.jsx(M,{sx:p(2),variant:o(2),onClick:()=>{const l=structuredClone(h);l.alliancePosition=2,r(l)},children:"Two"}),e.jsx(M,{sx:p(3),variant:o(3),onClick:()=>{const l=structuredClone(h);l.alliancePosition=3,r(l)},children:"Three"})]}),e.jsx(M,{color:"success",variant:"contained",onClick:()=>{s(2)},children:"Submit"})]})]})},K=({children:u,...r})=>{const n={height:"100%",width:"100%",background:b.getCurrentThemeData().secondary,"&:hover":{backgroundColor:b.getCurrentThemeData().secondary,borderColor:b.getCurrentThemeData().secondary},"&:active":{backgroundColor:b.getCurrentThemeData().secondary,borderColor:b.getCurrentThemeData().secondary},fontFamily:"Lexend",fontSize:"4.25em",fontWeight:"bold",color:"white",position:"relative"};return e.jsxs(M,{sx:n,...r,children:[u,e.jsx("div",{style:{position:"absolute",bottom:"0px",right:"0px",fontSize:"15px",marginRight:"15px"},children:r.minitext})]})},Ee=({duration:u,color:r,onFinish:n,title:t})=>{const d=i=>{const o=Math.floor(i/60),p=Math.floor(i-o*60);return`${("0"+o).slice(-2)}:${("0"+p).slice(-2)}`};let m=u,h=i=>{};[m,h]=f.useState(u);const[g,s]=f.useState(Date.now());return f.useEffect(()=>{m<=0&&n();const i=m>0&&setInterval(()=>{h(m-(Date.now()-g)/1e3),s(Date.now())},10);return()=>clearInterval(typeof i=="number"?i:0)},[m,n,g]),e.jsx(R,{title:t,hover:d(m),sx:{backgroundClip:"text",WebkitTextFillColor:"transparent",backgroundImage:`linear-gradient(to right, ${b.getCurrentThemeData().secondary} 0%,${b.getCurrentThemeData().secondary} ${m/u*100}%,${r} ${m/u*100}%,${r} 100%)`}})},he={buttonsContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px"},buttonRowContainer:{paddingLeft:"100px",paddingRight:"100px",width:"100%",height:"30%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"50px"}},Ut=u=>{const r=u.scoutingSetterGetter[1],n=u.scoutingSetterGetter[0];return e.jsxs(z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(Ee,{title:"Auto",color:"green",duration:Nt,onFinish:()=>{}}),e.jsxs("div",{style:he.buttonsContainer,children:[e.jsxs("div",{style:he.buttonRowContainer,children:[e.jsx(K,{children:"TAXI"}),e.jsx(K,{onClick:()=>{const t=structuredClone(n);t.autoAmp++,r(t)},minitext:n.autoAmp,children:"AMP"})]}),e.jsxs("div",{style:he.buttonRowContainer,children:[e.jsx(K,{onClick:()=>{const t=structuredClone(n);t.autoSpeaker++,r(t)},minitext:n.autoSpeaker,children:"SPEAKER"}),e.jsx(K,{onClick:()=>{const t=structuredClone(n);t.autoMisses++,r(t)},minitext:n.autoMisses,children:"MISS"})]})]})]})},Jt=({children:u,...r})=>{var h;const n=r.scouterSetter;let t=[!1,!0];typeof r.scouterData=="string"&&(t=["","park","onstage","harmony"]);const[d,m]=f.useState(t.indexOf(r.start)??0);return e.jsx(K,{minitext:(h=t[d])==null?void 0:h.toString(),onClick:()=>{m(()=>(d+1)%t.length),n(t[(d+1)%t.length])},children:u})},pe={buttonsContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px"},buttonRowContainer:{paddingLeft:"100px",paddingRight:"100px",width:"100%",height:"30%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"50px"}},Kt=u=>{const r=u.scoutingSetterGetter[1],n=u.scoutingSetterGetter[0];return e.jsxs(z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(Ee,{title:"Teleop",color:"green",duration:Dt,onFinish:()=>{}}),e.jsxs("div",{style:pe.buttonsContainer,children:[e.jsxs("div",{style:pe.buttonRowContainer,children:[e.jsx(K,{onClick:()=>{const t=structuredClone(n);t.teleopAmp++,r(t)},minitext:n.teleopAmp,children:"AMP"}),e.jsx(K,{onClick:()=>{const t=structuredClone(n);t.teleopSpeaker++,r(t)},minitext:n.teleopSpeaker,children:"SPEAKER"})]}),e.jsxs("div",{style:pe.buttonRowContainer,children:[e.jsx(K,{onClick:()=>{const t=structuredClone(n);t.teleopTrap++,r(t)},minitext:n.teleopTrap,children:"TRAP"}),e.jsx(Jt,{scouterData:n.teleopClimb,scouterSetter:t=>{const d=structuredClone(n);(t===""||t==="park"||t==="onstage"||t==="harmony")&&(d.teleopClimb=t,r(d))},start:n.teleopClimb,children:"CLIMB"})]})]})]})};async function Ge(){try{return await fetch("https://google.com",{mode:"no-cors"}),!0}catch{return!1}}const Y=class Y{constructor(){te(this,"db",null)}static getInstance(){return Y.instance||(Y.instance=new Y),Y.instance}async openDatabase(r,n,t,d){return new Promise((m,h)=>{const g=indexedDB.open(r,n);g.onerror=()=>{h(new Error("Failed to open IndexedDB"))},g.onsuccess=()=>{this.db=g.result,m()},g.onupgradeneeded=s=>{const i=s.target.result;i.objectStoreNames.contains(t)||i.createObjectStore(t,{keyPath:d})}})}async addData(r,n){return new Promise((t,d)=>{if(!this.db){d(new Error("Database is not open"));return}const g=this.db.transaction([r],"readwrite").objectStore(r).add(n);g.onerror=s=>{d(new Error(`Failed to add data to IndexedDB: ${s}`))},g.onsuccess=()=>{t()}})}async readAllData(r){return new Promise((n,t)=>{if(!this.db){t(new Error("Database is not open"));return}const h=this.db.transaction([r],"readonly").objectStore(r).getAll();h.onerror=()=>{t(new Error("Failed to read data from IndexedDB"))},h.onsuccess=()=>{const g=h.result;n(g)}})}async deleteAllData(r){return new Promise((n,t)=>{if(!this.db){t(new Error("Database is not open"));return}const h=this.db.transaction([r],"readwrite").objectStore(r).clear();h.onerror=()=>{t(new Error("Failed to delete data from IndexedDB"))},h.onsuccess=()=>{n()}})}};te(Y,"instance");let ee=Y;const Vt=u=>{const r=u.navigation,n=u.scoutingSetterGetter[1],t=u.scoutingSetterGetter[0],d={outline:{".MuiOutlinedInput-notchedOutline":{borderColor:t.color==="red"?L:N},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t.color==="red"?L:N,borderWidth:"0.15rem"},span:{color:t.color==="red"?L:N},legend:{color:t.color==="red"?L:N}}};function m(){return t.color==="red"?L:N}function h(i){return t.alliancePosition==i?"contained":"outlined"}function g(i){return h(i)=="contained"?{backgroundColor:m(),borderColor:m(),"&:hover":{backgroundColor:m(),borderColor:m()},"&:active":{backgroundColor:m(),borderColor:m()}}:{color:m(),borderColor:m(),"&:hover":{backgroundColor:m(),borderColor:m()},"&:active":{backgroundColor:m(),borderColor:m()}}}const s=()=>{const i=structuredClone(t);i.color==="red"?i.color="blue":i.color="red",n(i)};return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Edits"}),e.jsx("div",{id:"end-1",children:e.jsxs("div",{id:"edit-container",style:oe.form,children:[e.jsxs(_,{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"},children:[e.jsx(H,{variant:"body1",sx:{color:t.color==="red"?L:N,fontFamily:"Montserrat-Normal",fontWeight:"bold",textAlign:"center",width:"100%",marginBottom:"25px"},children:"Recap"}),e.jsx(j,{id:"autoAmp",label:"Auto Amp",sx:d.outline,style:{width:"calc(100% / 8)"},value:Number.isNaN(t.autoAmp)?"":t.autoAmp,onChange:i=>{const o=structuredClone(t);o.autoAmp=parseInt(i.target.value),n(o)}}),e.jsx(j,{id:"autoSpeaker",label:"Auto Speaker",sx:d.outline,style:{marginLeft:"10px",marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(t.autoSpeaker)?"":t.autoSpeaker,onChange:i=>{const o=structuredClone(t);o.autoSpeaker=parseInt(i.target.value),n(o)}}),e.jsx(j,{id:"autoMisses",label:"Auto Misses",sx:d.outline,style:{marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(t.autoMisses)?"":t.autoMisses,onChange:i=>{const o=structuredClone(t);o.autoMisses=parseInt(i.target.value),n(o)}}),e.jsx(j,{id:"teleop Amp",label:"Teleop Amp",sx:d.outline,style:{width:"calc(100% / 8)"},value:Number.isNaN(t.teleopAmp)?"":t.teleopAmp,onChange:i=>{const o=structuredClone(t);o.teleopAmp=parseInt(i.target.value),n(o)}}),e.jsx(j,{id:"teleopSpeaker",label:"Teleop Speaker",sx:d.outline,style:{marginLeft:"10px",marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(t.teleopSpeaker)?"":t.teleopSpeaker,onChange:i=>{const o=structuredClone(t);o.teleopSpeaker=parseInt(i.target.value),n(o)}}),e.jsx(j,{id:"teleopTrap",label:"Teleop Trap",sx:d.outline,style:{width:"calc(100% / 8)"},value:Number.isNaN(t.teleopTrap)?"":t.teleopTrap,onChange:i=>{const o=structuredClone(t);o.teleopTrap=parseInt(i.target.value),n(o)}}),e.jsxs(W,{sx:{width:"calc(100% / 8)",marginLeft:"10px"},children:[e.jsx(A,{id:"climbs",children:"Climb"}),e.jsxs(J,{label:"climb",labelId:"climbs",value:t.teleopClimb,sx:d.outline,onChange:i=>{const o=structuredClone(t);o.teleopClimb=i.target.value,n(o)},children:[e.jsx(D,{value:"",children:"None"}),e.jsx(D,{value:"park",children:"park"}),e.jsx(D,{value:"onstage",children:"onstage"}),e.jsx(D,{value:"harmony",children:"harmony"})]})]})]}),e.jsxs(_,{style:{display:"flex",flexDirection:"row"},children:[e.jsxs(_,{style:{marginRight:"20px"},children:[e.jsx(A,{id:"spotlight",children:"Spotlight?"}),e.jsxs(Q,{"aria-labelledby":"spotlight",value:t.spotlight,children:[e.jsx(O,{value:"true",control:e.jsx(B,{sx:d.outline,onChange:()=>{const i=structuredClone(t);i.spotlight=!0,n(i)}}),label:"yes",checked:t.spotlight===!0}),e.jsx(O,{value:"false",control:e.jsx(B,{sx:d.outline,onChange:()=>{const i=structuredClone(t);i.spotlight=!1,n(i)}}),label:"no",checked:t.spotlight===!1})]})]}),e.jsxs(_,{children:[e.jsx(A,{id:"oof",children:"Broken?"}),e.jsxs(Q,{"aria-labelledby":"oof",value:t.broken,children:[e.jsx(O,{value:"true",control:e.jsx(B,{sx:d.outline,onChange:()=>{const i=structuredClone(t);i.broken=!0,n(i)}}),label:"yes",checked:t.broken===!0}),e.jsx(O,{value:"false",control:e.jsx(B,{sx:d.outline,onChange:()=>{const i=structuredClone(t);i.broken=!1,n(i)}}),label:"no",checked:t.broken===!1})]})]})]}),e.jsxs(_,{style:{display:"flex",flexDirection:"row"},children:[e.jsx(j,{id:"scoutname",label:"Scout Name",sx:d.outline,onChange:i=>{const o=structuredClone(t);o.scouterName=i.target.value,n(o)},value:t.scouterName}),e.jsx(j,{id:"teamnum",label:"Team Number",sx:d.outline,style:{marginLeft:"10px",marginRight:"10px"},value:Number.isNaN(t.teamNumber)?"":t.teamNumber,onChange:i=>{const o=structuredClone(t);o.teamNumber=parseInt(i.target.value),n(o)}}),e.jsx(j,{id:"matchnum",label:"Match Number",sx:d.outline,value:Number.isNaN(t.matchNumber)?"":t.matchNumber,onChange:i=>{const o=structuredClone(t);o.matchNumber=parseInt(i.target.value),n(o)}})]}),e.jsxs(W,{sx:{display:"flex",width:"100%",margin:"auto",flexDirection:"row",justifyContent:"center"},children:[e.jsx(H,{variant:"body1",sx:{color:t.color==="red"?L:N,fontFamily:"Montserrat-Normal",fontWeight:"bold",width:"150px"},children:"Team Color"}),e.jsx(Le,{checked:t.color==="red",onChange:s})]}),e.jsxs(De,{sx:{outlineColor:m()},children:[e.jsx(M,{sx:g(1),variant:h(1),onClick:()=>{const i=structuredClone(t);i.alliancePosition=1,n(i)},children:"One"}),e.jsx(M,{sx:g(2),variant:h(2),onClick:()=>{const i=structuredClone(t);i.alliancePosition=2,n(i)},children:"Two"}),e.jsx(M,{sx:g(3),variant:h(3),onClick:()=>{const i=structuredClone(t);i.alliancePosition=3,n(i)},children:"Three"})]}),e.jsx(Xe,{placeholder:"notes",onChange:i=>{const o=structuredClone(t);o.notes=i.target.value,n(o)},style:{borderColor:t.color==="red"?L:N,color:b.getCurrentThemeData().primary,backgroundColor:(localStorage.getItem("theme")||"dark")==="dark"?"#333":"white"}}),e.jsx(M,{color:"success",variant:"contained",onClick:()=>{const i=structuredClone(t);i.broken=i.broken?"yes":"no",i.spotlight=i.spotlight?"yes":"no",i.autoTaxi=i.autoTaxi?"yes":"no",fetch("https://api.steinhq.com/v1/storages/661429064a642363121a7a44/test",{method:"POST",body:JSON.stringify([i]),mode:"cors",headers:{"Content-Type":"application/json"},cache:"no-store"}).then(o=>o.json()).then(async()=>{if(await Ge()){V.updateSheetsJson();const p=structuredClone(Pe);p.scouterName=i.scouterName,p.matchNumber=i.matchNumber+1,p.uuid=T(),n(p),u.alert("Yay! We got your data saved."),r(1)}else{const p=ee.getInstance();p.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>p.addData("OfflineScouterDataQueue",t))}}).catch(()=>{const o=ee.getInstance();o.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>o.addData("OfflineScouterDataQueue",t))})},children:"Submit"})]})})]})},Yt=u=>{const r=u.navigation;f.useEffect(()=>{localStorage.getItem("auth_code")===Ae&&r(1)});const n=t=>crypto.subtle.digest("SHA-256",new TextEncoder().encode(t)).then(d=>{const m=[],h=new DataView(d);for(let g=0;g<h.byteLength;g+=4)m.push(("00000000"+h.getUint32(g).toString(16)).slice(-8));return m.join("")});return e.jsxs(z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[e.jsx(R,{title:"What is the air-speed velocity of an unladen swallow?",sx:{fontSize:"1.5em",width:"50%",textAlign:"center"}}),e.jsx(j,{onChange:async t=>{const d=await n(t.target.value);d===Ae&&(localStorage.setItem("auth_code",d),r(1))}})]})},qt=new yt({publicKey:"public_sjGSBBstq6tqeZwNnTDDaMwawW4=",privateKey:"private_dzG/Ko9cGOwJ8EVWkYsqQdCioTM=",urlEndpoint:"https://ik.imagekit.io/vavanu9av/"});let Ne,me=[];class Ht{constructor(){if(Ne)throw new Error("You can only create one instance!");Ne=this}getInstance(){return this}uploadFile(r,n,t){return new Promise((d,m)=>{qt.upload({file:r,fileName:`${new Date().getTime()}-${n}.${t.split("/")[1]}`,useUniqueFileName:!1,tags:[`${n}`]},(h,g)=>{h&&m(h),g&&d(g.url)})})}async updateFilesJson(){const r=await V.getPitScouting(),n={};r.forEach(t=>{const d=parseFloat(t[1]);n[d]||(n[d]=[]),n[d].push({url:t[14],author:t[0],title:`A photo of the ${d} robot from the ${Fe} competition`})}),me=n}getFilesRaw(){return me}getInstancesByTeamNumber(r){this.updateFilesJson();try{return me[r]}catch{return[]}}}const ye=Object.freeze(new Ht),Xt=u=>{const[r,n]=u.pitSetterGetter,t=u.alert;function d(s,i){const o={...r};o[s]=i,n(o)}function m(s,i){const o={...r};o[s]=i,n(o)}function h(s,i){const o={...r};o[s]=i,n(o)}function g(s){return Number.isNaN(r[s])?"":r[s]}return e.jsxs(z,{sx:{width:"100%",display:"flex",flexDirection:window.innerWidth<1e3?"column":"row",flexWrap:"wrap",paddingTop:"50px"},children:[e.jsx(R,{title:"Pit Scouting",sx:{fontSize:"1.5em",width:"100%",textAlign:"center"}}),e.jsxs("div",{id:"column-1",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(j,{id:"scoutername",label:"Name",onChange:s=>{d("scouterName",s.target.value)},value:r.scouterName}),e.jsx(j,{id:"teamNumber",label:"Team Number",onChange:s=>{m("teamNum",parseInt(s.target.value))},value:g("teamNum")}),e.jsxs(W,{children:[e.jsx(A,{id:"intake",children:"Intake"}),e.jsx(J,{label:"intake",labelId:"intake",value:r.intake,onChange:s=>d("intake",s.target.value),children:Z.intake.map(s=>e.jsx(D,{value:s,children:s},s))})]}),e.jsxs(W,{children:[e.jsx(A,{id:"autoPos",children:"Preferred Auto Position"}),e.jsx(J,{label:"autoPos",labelId:"autoPos",value:r.preferredAutoPos,onChange:s=>d("preferredAutoPos",s.target.value),children:Z.preferredAutoPos.map(s=>e.jsx(D,{value:s,children:s},s))})]})]}),e.jsxs("div",{id:"column-2",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsxs(_,{children:[e.jsx(A,{id:"canclimb",children:"Can Climb?"}),e.jsxs(Q,{"aria-labelledby":"canclimb",value:r.canClimb,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(O,{value:"true",control:e.jsx(B,{onChange:()=>h("canClimb",!0)}),label:"yes",checked:r.canClimb===!0}),e.jsx(O,{value:"false",control:e.jsx(B,{onChange:()=>{h("canClimb",!1)}}),label:"no",checked:r.canClimb===!1})]})]}),e.jsx(j,{id:"FramePerimeter",label:"Frame Perimeter",onChange:s=>{m("FramePerimeter",parseInt(s.target.value))},value:g("FramePerimeter")}),e.jsx(j,{id:"weight",label:"weight",onChange:s=>{m("weight",parseInt(s.target.value))},value:g("weight")}),e.jsxs(_,{children:[e.jsx(A,{id:"canGoUnderChain",children:"Can go under chain?"}),e.jsxs(Q,{"aria-labelledby":"canGoUnderChain",value:r.canGoUnderChain,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(O,{value:"true",control:e.jsx(B,{onChange:()=>h("canGoUnderChain",!0)}),label:"yes",checked:r.canGoUnderChain===!0}),e.jsx(O,{value:"false",control:e.jsx(B,{onChange:()=>{h("canClimb",!1)}}),label:"no",checked:r.canGoUnderChain===!1})]})]})]}),e.jsxs("div",{id:"column-3",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(j,{id:"numBatteries",label:"Number of Batteries",onChange:s=>{m("numBatteries",parseInt(s.target.value))},value:g("numBatteries")}),e.jsx(j,{id:"numBatteryChargers",label:"Number of Battery Chargers",onChange:s=>{m("numBatteryChargers",parseInt(s.target.value))},value:g("numBatteryChargers")}),e.jsxs(W,{children:[e.jsx(A,{id:"ProgrammingLanguage",children:"Programming Language"}),e.jsx(J,{label:"ProgrammingLanguage",labelId:"ProgrammingLanguage",value:r.ProgrammingLanguage,onChange:s=>d("ProgrammingLanguage",s.target.value),children:Z.ProgrammingLanguage.map(s=>e.jsx(D,{value:s,children:s},s))})]}),e.jsxs(W,{children:[e.jsx(A,{id:"driveTrain",children:"Drive Train"}),e.jsx(J,{label:"driveTrain",labelId:"driveTrain",value:r.driveTrain,onChange:s=>d("driveTrain",s.target.value),children:Z.driveTrain.map(s=>e.jsx(D,{value:s,children:s},s))})]})]}),e.jsxs("div",{id:"column-4",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(j,{id:"numMotors",label:"Number of Motors",onChange:s=>{m("numMotors",parseInt(s.target.value))},value:g("numMotors")}),e.jsxs(W,{children:[e.jsx(A,{id:"motorType",children:"Drivetrain Motor Type"}),e.jsx(J,{label:"motorType",labelId:"motorType",value:r.motorType,onChange:s=>d("motorType",s.target.value),children:Z.motorType.map(s=>e.jsx(D,{value:s,children:s},s))})]}),e.jsxs(_,{children:[e.jsx(A,{id:"doLocktiteFalcons",children:"Do Falcons have Loctite?"}),e.jsxs(Q,{"aria-labelledby":"doLocktiteFalcons",value:r.doLocktiteFalcons,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(O,{value:"true",control:e.jsx(B,{onChange:()=>h("doLocktiteFalcons",!0)}),label:"yes",checked:r.doLocktiteFalcons===!0}),e.jsx(O,{value:"false",control:e.jsx(B,{onChange:()=>{h("doLocktiteFalcons",!1)}}),label:"no",checked:r.doLocktiteFalcons===!1})]})]}),e.jsxs(_,{children:[e.jsx("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",type:"file",onChange:s=>{if(!s.target.files||s.target.files.length===0)return;const i=new FileReader;i.readAsDataURL(s.target.files[0]),i.onload=o=>{var p,c,l;((p=s.target)==null?void 0:p.files)!==null&&ye.uploadFile((c=o.target)==null?void 0:c.result,r.teamNum,(l=s.target)==null?void 0:l.files[0].type).then(a=>{d("image",a)})}}}),e.jsx("label",{htmlFor:"raised-button-file",children:e.jsx(M,{variant:"contained",component:"span",sx:{color:(localStorage.getItem("theme")??"dark")==="light"?"black":"white"},children:"Upload robot photo"})}),e.jsx("img",{src:r.image,style:{width:"64px"}})]})]}),e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(M,{color:"success",variant:"contained",onClick:()=>{const s=structuredClone(r);fetch("https://api.steinhq.com/v1/storages/66142af84a642363121a7a83/PitScouting",{method:"POST",body:JSON.stringify([s]),mode:"cors",headers:{"Content-Type":"application/json"},cache:"no-store"}).then(o=>o.json()).then(()=>{t("You submitted a pit scouting report");const o=structuredClone(Me);o.scouterName=s.scouterName,n(o)})},children:"Submit"})})]})};function Zt(u){const r=u.itemData,n=f.useRef(null);return r?e.jsx("div",{style:{width:"100%"},children:e.jsx("div",{className:"images-container",style:{display:"flex",maxWidth:"500px",width:`calc(128px * ${r.length})`,overflow:"scroll",scrollBehavior:"smooth",transition:"scroll 0.3s ease-in-out",overflowY:"hidden"},ref:n,children:Array.from(r).map(t=>e.jsxs("div",{style:{width:"128px",display:"flex",flexDirection:"column-reverse"},children:[e.jsxs("span",{style:{width:"100%",fontSize:"0.5em",backgroundColor:"GrayText",display:"block",height:"50px"},children:[t.title,e.jsx("br",{}),"-",t.author]},T()),e.jsx("img",{className:"image",alt:"sliderImage",src:t.url,width:"128px"},T())]},T()))})}):e.jsx("div",{})}const Qt=()=>{const[u,r]=f.useState("Enter a team number"),[n,t]=f.useState(0),[d,m]=f.useState([]),[h,g]=f.useState([]),[s,i]=f.useState([]);async function o(a){let x=await V.getPitScouting();x=x.filter(v=>v[1]==a.toString()),g(()=>x)}const p=a=>{let x=parseInt(a);return isNaN(x)&&(x=0),x};async function c(){const a=await Re(n.toString());r(a),i(()=>{const x=V.getInstancesByTeamNum(n.toString());return x.sort((v,S)=>parseInt(v[4])-parseInt(S[4])),x})}const l=async()=>{let a=await ye.getInstancesByTeamNumber(n);a||(a=[]);const x=(await Rt(n.toString())).map(v=>({url:v,author:"Team "+n.toString(),title:"Photo of the "+n.toString()+" robot"}));try{m(()=>a.concat(x))}catch{console.log("Team Doesn't exist")}};return f.useEffect(()=>{c(),l(),o(n)},[n]),e.jsxs(z,{sx:{width:"100%",height:"100%",display:"flex",flexWrap:"wrap",paddingTop:"50px",alignItems:"start",scrollbarWidth:"none",padding:"10px",overflow:"scroll",overflowX:"scroll"},children:[e.jsx(R,{title:"Team Lookup",sx:{fontSize:"1.5em",width:"100%",textAlign:"center"}}),e.jsx(j,{id:"team_lookup",placeholder:"search",sx:{width:"calc(100% - 55px)",margin:"25px"},value:Number.isNaN(n)?"":n,onChange:a=>{t(parseInt(a.target.value))}}),e.jsxs("div",{id:"results",style:{width:"100%"},children:[e.jsx(R,{title:u,sx:{fontSize:"2em"}}),e.jsx(Zt,{itemData:d})," ",e.jsxs(ie,{children:[e.jsx(le,{children:e.jsx(R,{title:"Pit Scouting",sx:{fontSize:"1em",width:"100%",textAlign:"center"}})}),e.jsx(ce,{children:e.jsxs(ae,{children:[e.jsx(re,{children:e.jsxs($,{children:[...kt.map(a=>e.jsx(C,{children:a},T()))]})}),e.jsxs(ne,{children:[...h.map(a=>{const x=/(https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z]{2,}(\.[a-zA-Z]{2,})(\.[a-zA-Z]{2,})?\/[a-zA-Z0-9]{2,}|((https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z]{2,}(\.[a-zA-Z]{2,})(\.[a-zA-Z]{2,})?)|(https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z0-9]{2,}\.[a-zA-Z0-9]{2,}\.[a-zA-Z0-9]{2,}(\.[a-zA-Z0-9]{2,})?/g;return a.slice(0,-1),e.jsxs($,{children:[...a.filter(v=>!x.test(v)).map(v=>e.jsx(C,{children:v},T()))]},T())})]})]})})]}),e.jsxs(ie,{children:[e.jsx(le,{children:e.jsx(R,{title:"Match Scouting",sx:{fontSize:"1em",width:"100%",textAlign:"center",flex:"1 1 auto"}})}),e.jsx(ce,{children:e.jsxs(ae,{sx:{},children:[e.jsx(re,{children:e.jsxs($,{children:[...It.map(a=>e.jsx(C,{children:a},T())),e.jsx(C,{children:"Shuttleing"})]})}),e.jsxs(ne,{children:[...s.map(a=>e.jsxs($,{children:[...a.map(x=>e.jsx(C,{children:x},T())),e.jsx(C,{children:a.length>0&&(()=>{const x=a[a.length-1],v=/Shuttling[:]? ?\d+/,S=x.match(v),q=(S?S[0]:"").replace(/Shuttling[:]? ?/,"");return q?e.jsx("p",{children:q}):e.jsx("p",{})})()})]},T()))]})]})})]}),e.jsxs(ie,{children:[e.jsx(le,{children:e.jsx(R,{title:"Analysis",sx:{fontSize:"1em"}})}),e.jsxs(ce,{children:[e.jsxs(ae,{children:[e.jsx(re,{children:e.jsxs($,{children:[...["Avg. Auto Pieces","Avg. Auto Amp","Max Auto Amp","Avg. Auto Speaker","Max Auto Speaker"].map(a=>e.jsx(C,{children:a},T()))]})}),e.jsx(ne,{children:e.jsxs($,{children:[e.jsx(C,{children:(s.map(a=>p(a[6])+p(a[7])).reduce((a,x)=>a+x,0)/s.length).toFixed(2)}),e.jsx(C,{children:(s.map(a=>p(a[6])).reduce((a,x)=>a+x,0)/s.length).toFixed(2)}),e.jsx(C,{children:Math.max(...s.map(a=>p(a[6])))}),e.jsx(C,{children:(s.map(a=>p(a[7])).reduce((a,x)=>a+x,0)/s.length).toFixed(2)}),e.jsx(C,{children:Math.max(...s.map(a=>p(a[7])))})]})})]}),e.jsxs(ae,{children:[e.jsx(re,{children:e.jsxs($,{children:[...["Avg. Telop Pieces","Avg. Telop Amp","Max Telop Amp","Avg. Telop Speaker","Max Telop Speaker","Avg. Telop Trap","Max Telop Trap"].map(a=>e.jsx(C,{children:a},T()))]})}),e.jsx(ne,{children:e.jsxs($,{children:[e.jsx(C,{children:(s.map(a=>p(a[9])+p(a[10])).reduce((a,x)=>a+x,0)/s.length).toFixed(2)}),e.jsx(C,{children:(s.map(a=>p(a[9])).reduce((a,x)=>a+x,0)/s.length).toFixed(2)}),e.jsx(C,{children:Math.max(...s.map(a=>p(a[9])))}),e.jsx(C,{children:(s.map(a=>p(a[10])).reduce((a,x)=>a+x,0)/s.length).toFixed(2)}),e.jsx(C,{children:Math.max(...s.map(a=>p(a[10])))}),e.jsx(C,{children:(s.map(a=>p(a[11])).reduce((a,x)=>a+x,0)/s.length).toFixed(2)}),e.jsx(C,{children:Math.max(...s.map(a=>p(a[11])))})]})})]}),s.length>0?e.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"500px"},children:[e.jsx("h3",{style:{marginLeft:"auto",marginRight:"auto"},children:"Auto Pieces"}),e.jsxs(je,{title:"Auto",sx:{width:"100%"},colors:ve,yAxis:[{id:"notes"}],xAxis:[{scaleType:"band",data:s.map(a=>"M. "+a[4]),id:"xAxis"}],series:[{label:"Auto Amp",data:s.map(a=>p(a[6])),type:"bar"},{label:"Auto Speaker",data:s.map(a=>p(a[7])),type:"bar"},{label:"Auto Notes",data:s.map(a=>p(a[6])+p(a[7])),type:"line",curve:"linear"}],width:500,height:300,children:[e.jsx(Ce,{}),e.jsx(we,{}),e.jsx(ge,{label:"Match #",position:"bottom",axisId:"xAxis"}),e.jsx(xe,{label:"Notes",position:"left",axisId:"notes"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"500px"},children:[e.jsx("h3",{style:{marginLeft:"auto",marginRight:"auto"},children:"Teleop Pieces"}),e.jsxs(je,{title:"Auto",sx:{width:"100%"},colors:ve,yAxis:[{id:"notes"}],xAxis:[{scaleType:"band",data:s.map(a=>"M. "+a[4]),id:"xAxis"}],series:[{label:"Teleop Amp",data:s.map(a=>p(a[9])),type:"bar"},{label:"Teleop Speaker",data:s.map(a=>p(a[10])),type:"bar"},{label:"Teleop Trap",data:s.map(a=>p(a[11])),type:"bar"},{label:"Auto Notes",data:s.map(a=>p(a[9])+p(a[10])+p(a[11])),type:"line",curve:"linear"}],width:500,height:300,children:[e.jsx(Ce,{}),e.jsx(we,{}),e.jsx(ge,{label:"Match #",position:"bottom",axisId:"xAxis"}),e.jsx(xe,{label:"Notes",position:"left",axisId:"notes"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"500px"},children:[e.jsx("h3",{style:{marginLeft:"auto",marginRight:"auto"},children:"End Climb"}),e.jsx(Ze,{slotProps:{legend:{hidden:!0}},xAxis:[{scaleType:"band",data:s.map(a=>"M. "+a[4])}],yAxis:[{tickInterval:a=>a===1||a===2||a===3,valueFormatter:a=>a===1?"ðŸ…¿ï¸":a===2?"ðŸªœ":a===3?"ðŸŽ¶":""}],width:500,height:300,series:[{data:s.map(a=>{const x=a[12];return x==="park"?1:x==="onstage"?2:x==="harmony"?3:0})}]})]})]}):""]})]}),e.jsx("br",{})," ",e.jsx("br",{})," ",e.jsx("br",{})]})]})},ea=()=>{const[u,r]=f.useState([]),[n,t]=f.useState([]),[d,m]=f.useState("Average Notes Auto"),[h,g]=f.useState("Average Notes Auto"),s=window.innerWidth,i=["#808080","#c0c0c0","#2f4f4f","#556b2f","#8b4513","#6b8e23","#a52a2a","#2e8b57","#006400","#483d8b","#b8860b","#008b8b","#4682b4","#000080","#d2691e","#9acd32","#32cd32","#7f007f","#8fbc8f","#b03060","#ff4500","#00ced1","#ffa500","#ffd700","#deb887","#00ff00","#9400d3","#00fa9a","#4169e1","#dc143c","#00bfff","#f4a460","#0000ff","#f08080","#adff2f","#ff6347","#ff00ff","#f0e68c","#ffff54","#6495ed","#dda0dd","#87ceeb","#ff1493","#ee82ee","#98fb98","#7fffd4","#fafad2","#ff69b4","#e0ffff","#ffb6c1"];f.useEffect(()=>{async function c(){const l=await V.getAsyncData();r(()=>l)}c()},[d,h]);const o={"Average Notes Auto":[[6,7],c=>c.reduce((l,a)=>l+parseInt(a[0])+parseInt(a[1]),0)/c.length],"Max Auto Notes":[[6,7],c=>Math.max(...c.map(l=>parseInt(l[0])+parseInt(l[1])))],"Average Amp Notes Auto":[[6],c=>c.reduce((l,a)=>l+parseInt(a[0]),0)/c.length],"Average Speaker Notes Auto":[[7],c=>c.reduce((l,a)=>l+parseInt(a[0]),0)/c.length],"Max Speaker Auto":[[7],c=>Math.max(...c.map(l=>parseInt(l[0])))],"Max Amp Auto":[[6],c=>Math.max(...c.map(l=>parseInt(l[0])))],"Average Notes Teleop":[[9,10,11],c=>c.reduce((l,a)=>l+parseInt(a[0])+parseInt(a[1])+parseInt(a[2]),0)/c.length],"Average Amp Notes Teleop":[[9],c=>c.reduce((l,a)=>l+parseInt(a[0]),0)/c.length],"Max Amp Teleop":[[9],c=>Math.max(...c.map(l=>parseInt(l[0])))],"Average Speaker Notes Teleop":[[10],c=>c.reduce((l,a)=>l+parseInt(a[0]),0)/c.length],"Max Speaker Teleop":[[10],c=>Math.max(...c.map(l=>parseInt(l[0])))],"Average Trap Notes Teleop":[[10],c=>c.reduce((l,a)=>l+parseInt(a[0]),0)/c.length],"Max Trap Teleop":[[11],c=>Math.max(...c.map(l=>parseInt(l[0])))],"Average Climb Points":[[12,14],c=>c.map(l=>l[0]==="none"?0:l[0]==="park"?1:l[0]==="onstage"||l[1]==="no"?3:l[0]==="onstage"||l[1]==="yes"?4:l[0]==="harmony"||l[1]==="no"?5:l[0]==="harmony"||l[1]==="yes"?6:0).reduce((l,a)=>l+a,0)/c.length],"Max Climb Points":[[12,14],c=>Math.max(...c.map(l=>l[0]==="none"?0:l[0]==="park"?1:l[0]==="onstage"||l[1]==="no"?3:l[0]==="onstage"||l[1]==="yes"?4:l[0]==="harmony"||l[1]==="no"?5:l[0]==="harmony"||l[1]==="yes"?6:0))]};f.useEffect(()=>{const c=()=>u?u.length===0?[]:Array.from(new Set(u.map(l=>parseInt(l[3])))):[];t(()=>c())},[u]);const p=(c,l)=>{if(u.length===0||!(l in o))return 0;const a=u.filter(S=>parseInt(S[3])===c),x=o[l][0],v=a.map(S=>x.map(X=>S[X]));return o[l][1](v)};return e.jsxs(z,{sx:{width:"100%",height:"100%",display:"flex",flexWrap:"wrap",paddingTop:"50px",alignItems:"start",scrollbarWidth:"none",padding:"10px",overflow:"scroll",overflowX:"scroll"},children:[e.jsxs(Qe,{colors:i,width:s,height:500,sx:{marginBottom:0},series:n.map(c=>({label:c.toString(),data:[{x:p(c,d),y:p(c,h),id:c}]})),slotProps:{legend:{labelStyle:{display:"none"},itemMarkHeight:0,itemMarkWidth:0}},yAxis:[{id:"leftAxis"}],xAxis:[{id:"bottomAxis"}],children:[e.jsx(xe,{axisId:"leftAxis",position:"left",label:h}),e.jsx(ge,{axisId:"bottomAxis",position:"bottom",label:d})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",rowGap:"2px"},children:[...n.map((c,l)=>e.jsxs("div",{style:{display:"flex",padding:"5px"},children:[e.jsx("div",{style:{display:"inline-block",width:"20px",height:"20px",backgroundColor:i[l%i.length]}}),e.jsx(H,{variant:"caption",sx:{color:b.getCurrentThemeData().primary},children:c})]}))]}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"100%"},children:[e.jsxs(W,{sx:{width:"50%"},children:[e.jsx(A,{id:"xAxis",children:"X Axis"}),e.jsxs(J,{label:"X Axis",labelId:"xAxis",onChange:c=>{m(()=>c.target.value)},value:d,children:[...Object.keys(o).map(c=>e.jsx(D,{value:c,children:c}))]})]}),e.jsxs(W,{sx:{width:"50%"},children:[e.jsx(A,{id:"yAxis",children:"Y Axis"}),e.jsxs(J,{label:"Y Axis",labelId:"yAxis",onChange:c=>{g(()=>c.target.value)},value:h,children:[...Object.keys(o).map(c=>e.jsx(D,{value:c,children:c}))]})]})]}),e.jsx("br",{})," ",e.jsx("br",{})," ",e.jsx("br",{})," ",e.jsx("br",{})]})},ta=()=>{const u={"Average notes scored (total)":o=>o.reduce((p,c)=>p+(g(c[6])+g(c[7])+g(c[9])+g(c[10])+g(c[11])),0)/o.length,"Average notes scored (Auto)":o=>o.reduce((p,c)=>p+(g(c[6])+g(c[7])),0)/o.length,"Average notes scored (Teleop)":o=>o.reduce((p,c)=>p+(g(c[9])+g(c[10])+g(c[11])),0)/o.length,"Average Amp (Auto)":o=>o.reduce((p,c)=>p+g(c[6]),0)/o.length,"Average Speaker (Auto)":o=>o.reduce((p,c)=>p+g(c[7]),0)/o.length,"Average Amp (Teleop)":o=>o.reduce((p,c)=>p+g(c[9]),0)/o.length,"Average Speaker (Teleop)":o=>o.reduce((p,c)=>p+g(c[10]),0)/o.length,"Average Trap":o=>o.reduce((p,c)=>p+g(c[11]),0)/o.length},[r,n]=f.useState([]),[t,d]=f.useState([]),[m,h]=f.useState([]),g=o=>{const p=parseInt(o);return isNaN(p)?0:p};async function s(){const o=await V.getAsyncData();n(()=>o)}const i=(o,p)=>{if(r){if(r.length===0||!(p in u))return 0;const c=r.filter(l=>parseInt(l[3])===o);return u[p](c)}};return s(),f.useEffect(()=>{const o=()=>r?r.length===0?[]:Array.from(new Set(r.map(p=>parseInt(p[3])))):[];d(()=>o())},[r]),f.useEffect(()=>{h(t.map(o=>{const p={id:o,teamnum:o};return Object.keys(u).forEach(c=>{p[c]=i(o,c)}),p}))},[t]),e.jsx(z,{sx:{width:"100%",height:"100%",display:"flex",WebkitAlignItems:"center",paddingTop:"50px",alignItems:"start",scrollbarWidth:"none",padding:"10px",overflow:"scroll",overflowX:"scroll"},children:e.jsx(et,{rows:m,columns:[{field:"teamnum",headerName:"Team #",width:250},...Object.keys(u).map(o=>({field:o,headerName:o,width:250,valueFormatter:p=>isNaN(p)?"":p.toFixed(2)}))],pageSizeOptions:[5,10,20,50,100],sx:{height:"90%"}})})},I={0:"/",1:"/info",2:"/auto",3:"/teleop",4:"/endscreen1",6:"/pit-scouting",7:"/lookup",8:"/graphs",9:"/leaderboard"};function aa(){const[u,r]=f.useState(!1),[n,t]=f.useState(""),[d,m]=f.useState(!1),[h,g]=f.useState(ue(localStorage.getItem("theme")??"dark")),[s,i]=f.useState(b.themesList.indexOf(localStorage.getItem("customtheme")??"none"));b.setThemeId(localStorage.getItem("customtheme")??"none");const[o,p]=f.useState(1),[c,l]=f.useState(Pe),[a,x]=f.useState(Me),v=ee.getInstance(),S=jt();async function X(){if(u)return;r(!0),P("You are now online"),await Ge()?v.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>{v.readAllData("OfflineScouterDataQueue").then(se=>{se.length!==0&&fetch("https://api.steinhq.com/v1/storages/661429064a642363121a7a44/test",{method:"POST",body:JSON.stringify(se),headers:{"Content-Type":"application/json"},cache:"no-store"}).then(()=>{P(`Uploaded ${se.length} matches that were saved offline`),v.deleteAllData("OfflineScouterDataQueue")})})}):(r(!1),P("You think you are online, but you are not connected to the internet"))}function q(){P("You are now offline (matches will be saved locally until you reconnect)"),r(!1)}f.useEffect(()=>{const w=()=>{fe.updateJSON(),window.removeEventListener("load",w,!0),r(navigator.onLine),navigator.onLine||q(),window.addEventListener("online",X),window.addEventListener("offline",q)};window.addEventListener("load",w,{once:!0})},[X,q]),f.useEffect(()=>{ye.updateFilesJson(),V.updateSheetsJson()},[c.scouterName]),f.useEffect(()=>{fe.updateJSON()},[c.matchNumber]);const _e=()=>{i((s+1)%b.themesList.length),b.setThemeId(b.themesList[(s+1)%b.themesList.length]),localStorage.setItem("customtheme",b.themesList[(s+1)%b.themesList.length])},We=()=>{const w=h.palette.mode==="dark"?ue("light"):ue("dark");g(w),localStorage.setItem("theme",w.palette.mode)},k=w=>{I[w]&&(p(w),S(I[w],{replace:!0}))},ze=()=>{m(!1)},P=w=>{m(!0),t(w)};return e.jsx(e.Fragment,{children:e.jsx(z,{sx:{width:"100vw",height:"100vh"},children:e.jsx(tt,{children:e.jsx(at,{theme:h,children:e.jsxs(z,{sx:{width:"100%",height:"100%",backgroundColor:w=>w.palette.mode==="light"?w.palette.grey[100]:w.palette.grey[900]},children:[e.jsx(E,{style:{color:b.getCurrentThemeData().primary},sx:{position:"fixed",top:"0px",left:"0px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"10px"},onClick:()=>{k(1)},children:e.jsx(rt,{})})," ",e.jsxs(vt,{children:[e.jsx(G,{path:I[0],element:e.jsx(Yt,{navigation:k,scoutingSetterGetter:[c,l],alert:P})}),e.jsx(G,{path:I[1],element:e.jsx($t,{navigation:k,scoutingSetterGetter:[c,l],alert:P})}),e.jsx(G,{path:I[2],element:e.jsx(Ut,{navigation:k,scoutingSetterGetter:[c,l],alert:P})}),e.jsx(G,{path:I[3],element:e.jsx(Kt,{navigation:k,scoutingSetterGetter:[c,l],alert:P})}),e.jsx(G,{path:I[4],element:e.jsx(Vt,{navigation:k,scoutingSetterGetter:[c,l],alert:P})}),e.jsx(G,{path:I[6],element:e.jsx(Xt,{pitSetterGetter:[a,x],alert:P})}),e.jsx(G,{path:I[7],element:e.jsx(Qt,{})})," ",e.jsx(G,{path:I[8],element:e.jsx(ea,{})}),e.jsx(G,{path:I[9],element:e.jsx(ta,{})})]}),e.jsx("div",{id:"notifications",children:e.jsx(nt,{open:d,autoHideDuration:1e4,onClose:ze,children:e.jsx(ot,{message:n,sx:{backgroundColor:h.palette.mode==="light"?h.palette.grey[100]:h.palette.grey[900],color:h.palette.mode==="light"?h.palette.grey[900]:h.palette.grey[100]}})})}),e.jsxs("div",{id:"themeToggle",style:{position:"fixed",bottom:"20px",left:"20px"},children:[e.jsx(E,{"aria-label":"delete",onClick:_e,title:"theme selector",style:{color:b.getCurrentThemeData().primary},children:b.getThemeId()==="none"?e.jsx(st,{}):b.getThemeId()==="alpine"?e.jsx(it,{}):b.getThemeId()==="ocean"?e.jsx(lt,{}):b.getThemeId()==="desert"?e.jsx(ct,{}):b.getThemeId()==="lavender"?e.jsx(dt,{}):""}),e.jsx(E,{"aria-label":"delete",onClick:We,title:"dark mode",style:{color:b.getCurrentThemeData().primary},children:h.palette.mode==="dark"?e.jsx(ut,{}):e.jsx(ht,{})}),e.jsx(E,{style:{color:b.getCurrentThemeData().primary},onClick:()=>{k(6)},title:"Pit Scouting",children:e.jsx(pt,{})}),e.jsx(E,{style:{color:b.getCurrentThemeData().primary},onClick:()=>{k(7)},title:"search teams",children:e.jsx(mt,{})}),e.jsx(E,{style:{color:b.getCurrentThemeData().primary},onClick:()=>{k(8)},title:"Graph View",children:e.jsx(gt,{})}),e.jsx(E,{style:{color:b.getCurrentThemeData().primary},onClick:()=>{k(9)},children:e.jsx(xt,{})})]}),e.jsxs("div",{id:"themeToggle",style:{position:"fixed",bottom:"20px",right:"20px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"10px"},children:[e.jsx(E,{style:{color:b.getCurrentThemeData().primary},onClick:()=>{k(o-1)},children:e.jsx(ft,{})}),e.jsx(E,{style:{color:b.getCurrentThemeData().primary},onClick:()=>{k(o+1)},children:e.jsx(bt,{})})]})]})})})})})}Ke.createRoot(document.getElementById("root")).render(e.jsx(Je.StrictMode,{children:e.jsxs(Ct,{children:[e.jsx(aa,{})," "]})}));
